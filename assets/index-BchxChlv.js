(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Vm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zc={exports:{}},Bo={},Bc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function T_(){if(up)return we;up=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.iterator;function U(N){return N===null||typeof N!="object"?null:(N=k&&N[k]||N["@@iterator"],typeof N=="function"?N:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,X={};function W(N,j,ae){this.props=N,this.context=j,this.refs=X,this.updater=ae||$}W.prototype.isReactComponent={},W.prototype.setState=function(N,j){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,j,"setState")},W.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Te(){}Te.prototype=W.prototype;function ge(N,j,ae){this.props=N,this.context=j,this.refs=X,this.updater=ae||$}var ye=ge.prototype=new Te;ye.constructor=ge,Y(ye,W.prototype),ye.isPureReactComponent=!0;var Se=Array.isArray,Xe=Object.prototype.hasOwnProperty,Ve={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function T(N,j,ae){var _e,Ee={},Re=null,xe=null;if(j!=null)for(_e in j.ref!==void 0&&(xe=j.ref),j.key!==void 0&&(Re=""+j.key),j)Xe.call(j,_e)&&!V.hasOwnProperty(_e)&&(Ee[_e]=j[_e]);var Oe=arguments.length-2;if(Oe===1)Ee.children=ae;else if(1<Oe){for(var ze=Array(Oe),dt=0;dt<Oe;dt++)ze[dt]=arguments[dt+2];Ee.children=ze}if(N&&N.defaultProps)for(_e in Oe=N.defaultProps,Oe)Ee[_e]===void 0&&(Ee[_e]=Oe[_e]);return{$$typeof:i,type:N,key:Re,ref:xe,props:Ee,_owner:Ve.current}}function A(N,j){return{$$typeof:i,type:N.type,key:j,ref:N.ref,props:N.props,_owner:N._owner}}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var j={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return j[ae]})}var x=/\/+/g;function S(N,j){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):j.toString(36)}function Je(N,j,ae,_e,Ee){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Re){case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case i:case e:xe=!0}}if(xe)return xe=N,Ee=Ee(xe),N=_e===""?"."+S(xe,0):_e,Se(Ee)?(ae="",N!=null&&(ae=N.replace(x,"$&/")+"/"),Je(Ee,j,ae,"",function(dt){return dt})):Ee!=null&&(P(Ee)&&(Ee=A(Ee,ae+(!Ee.key||xe&&xe.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+N)),j.push(Ee)),1;if(xe=0,_e=_e===""?".":_e+":",Se(N))for(var Oe=0;Oe<N.length;Oe++){Re=N[Oe];var ze=_e+S(Re,Oe);xe+=Je(Re,j,ae,ze,Ee)}else if(ze=U(N),typeof ze=="function")for(N=ze.call(N),Oe=0;!(Re=N.next()).done;)Re=Re.value,ze=_e+S(Re,Oe++),xe+=Je(Re,j,ae,ze,Ee);else if(Re==="object")throw j=String(N),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return xe}function Rt(N,j,ae){if(N==null)return N;var _e=[],Ee=0;return Je(N,_e,"","",function(Re){return j.call(ae,Re,Ee++)}),_e}function Ct(N){if(N._status===-1){var j=N._result;j=j(),j.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=j)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},J={transition:null},ue={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ve};function ee(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Rt,forEach:function(N,j,ae){Rt(N,function(){j.apply(this,arguments)},ae)},count:function(N){var j=0;return Rt(N,function(){j++}),j},toArray:function(N){return Rt(N,function(j){return j})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},we.Component=W,we.Fragment=n,we.Profiler=a,we.PureComponent=ge,we.StrictMode=s,we.Suspense=_,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,we.act=ee,we.cloneElement=function(N,j,ae){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var _e=Y({},N.props),Ee=N.key,Re=N.ref,xe=N._owner;if(j!=null){if(j.ref!==void 0&&(Re=j.ref,xe=Ve.current),j.key!==void 0&&(Ee=""+j.key),N.type&&N.type.defaultProps)var Oe=N.type.defaultProps;for(ze in j)Xe.call(j,ze)&&!V.hasOwnProperty(ze)&&(_e[ze]=j[ze]===void 0&&Oe!==void 0?Oe[ze]:j[ze])}var ze=arguments.length-2;if(ze===1)_e.children=ae;else if(1<ze){Oe=Array(ze);for(var dt=0;dt<ze;dt++)Oe[dt]=arguments[dt+2];_e.children=Oe}return{$$typeof:i,type:N.type,key:Ee,ref:Re,props:_e,_owner:xe}},we.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},we.createElement=T,we.createFactory=function(N){var j=T.bind(null,N);return j.type=N,j},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:g,render:N}},we.isValidElement=P,we.lazy=function(N){return{$$typeof:I,_payload:{_status:-1,_result:N},_init:Ct}},we.memo=function(N,j){return{$$typeof:E,type:N,compare:j===void 0?null:j}},we.startTransition=function(N){var j=J.transition;J.transition={};try{N()}finally{J.transition=j}},we.unstable_act=ee,we.useCallback=function(N,j){return Fe.current.useCallback(N,j)},we.useContext=function(N){return Fe.current.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},we.useEffect=function(N,j){return Fe.current.useEffect(N,j)},we.useId=function(){return Fe.current.useId()},we.useImperativeHandle=function(N,j,ae){return Fe.current.useImperativeHandle(N,j,ae)},we.useInsertionEffect=function(N,j){return Fe.current.useInsertionEffect(N,j)},we.useLayoutEffect=function(N,j){return Fe.current.useLayoutEffect(N,j)},we.useMemo=function(N,j){return Fe.current.useMemo(N,j)},we.useReducer=function(N,j,ae){return Fe.current.useReducer(N,j,ae)},we.useRef=function(N){return Fe.current.useRef(N)},we.useState=function(N){return Fe.current.useState(N)},we.useSyncExternalStore=function(N,j,ae){return Fe.current.useSyncExternalStore(N,j,ae)},we.useTransition=function(){return Fe.current.useTransition()},we.version="18.3.1",we}var cp;function wh(){return cp||(cp=1,Bc.exports=T_()),Bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function I_(){if(hp)return Bo;hp=1;var i=wh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(g,_,E){var I,k={},U=null,$=null;E!==void 0&&(U=""+E),_.key!==void 0&&(U=""+_.key),_.ref!==void 0&&($=_.ref);for(I in _)s.call(_,I)&&!c.hasOwnProperty(I)&&(k[I]=_[I]);if(g&&g.defaultProps)for(I in _=g.defaultProps,_)k[I]===void 0&&(k[I]=_[I]);return{$$typeof:e,type:g,key:U,ref:$,props:k,_owner:a.current}}return Bo.Fragment=n,Bo.jsx=f,Bo.jsxs=f,Bo}var fp;function S_(){return fp||(fp=1,zc.exports=I_()),zc.exports}var qo=S_(),Jc=wh();const A_=Vm(Jc);var Il={},jc={exports:{}},Qt={},bc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function R_(){return dp||(dp=1,function(i){function e(J,ue){var ee=J.length;J.push(ue);e:for(;0<ee;){var N=ee-1>>>1,j=J[N];if(0<a(j,ue))J[N]=ue,J[ee]=j,ee=N;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ue=J[0],ee=J.pop();if(ee!==ue){J[0]=ee;e:for(var N=0,j=J.length,ae=j>>>1;N<ae;){var _e=2*(N+1)-1,Ee=J[_e],Re=_e+1,xe=J[Re];if(0>a(Ee,ee))Re<j&&0>a(xe,Ee)?(J[N]=xe,J[Re]=ee,N=Re):(J[N]=Ee,J[_e]=ee,N=_e);else if(Re<j&&0>a(xe,ee))J[N]=xe,J[Re]=ee,N=Re;else break e}}return ue}function a(J,ue){var ee=J.sortIndex-ue.sortIndex;return ee!==0?ee:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var _=[],E=[],I=1,k=null,U=3,$=!1,Y=!1,X=!1,W=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(J){for(var ue=n(E);ue!==null;){if(ue.callback===null)s(E);else if(ue.startTime<=J)s(E),ue.sortIndex=ue.expirationTime,e(_,ue);else break;ue=n(E)}}function Se(J){if(X=!1,ye(J),!Y)if(n(_)!==null)Y=!0,Ct(Xe);else{var ue=n(E);ue!==null&&Fe(Se,ue.startTime-J)}}function Xe(J,ue){Y=!1,X&&(X=!1,Te(T),T=-1),$=!0;var ee=U;try{for(ye(ue),k=n(_);k!==null&&(!(k.expirationTime>ue)||J&&!D());){var N=k.callback;if(typeof N=="function"){k.callback=null,U=k.priorityLevel;var j=N(k.expirationTime<=ue);ue=i.unstable_now(),typeof j=="function"?k.callback=j:k===n(_)&&s(_),ye(ue)}else s(_);k=n(_)}if(k!==null)var ae=!0;else{var _e=n(E);_e!==null&&Fe(Se,_e.startTime-ue),ae=!1}return ae}finally{k=null,U=ee,$=!1}}var Ve=!1,V=null,T=-1,A=5,P=-1;function D(){return!(i.unstable_now()-P<A)}function x(){if(V!==null){var J=i.unstable_now();P=J;var ue=!0;try{ue=V(!0,J)}finally{ue?S():(Ve=!1,V=null)}}else Ve=!1}var S;if(typeof ge=="function")S=function(){ge(x)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Rt=Je.port2;Je.port1.onmessage=x,S=function(){Rt.postMessage(null)}}else S=function(){W(x,0)};function Ct(J){V=J,Ve||(Ve=!0,S())}function Fe(J,ue){T=W(function(){J(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){Y||$||(Y=!0,Ct(Xe))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return U},i.unstable_getFirstCallbackNode=function(){return n(_)},i.unstable_next=function(J){switch(U){case 1:case 2:case 3:var ue=3;break;default:ue=U}var ee=U;U=ue;try{return J()}finally{U=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=U;U=J;try{return ue()}finally{U=ee}},i.unstable_scheduleCallback=function(J,ue,ee){var N=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?N+ee:N):ee=N,J){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ee+j,J={id:I++,callback:ue,priorityLevel:J,startTime:ee,expirationTime:j,sortIndex:-1},ee>N?(J.sortIndex=ee,e(E,J),n(_)===null&&J===n(E)&&(X?(Te(T),T=-1):X=!0,Fe(Se,ee-N))):(J.sortIndex=j,e(_,J),Y||$||(Y=!0,Ct(Xe))),J},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(J){var ue=U;return function(){var ee=U;U=ue;try{return J.apply(this,arguments)}finally{U=ee}}}}($c)),$c}var pp;function C_(){return pp||(pp=1,bc.exports=R_()),bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function P_(){if(mp)return Qt;mp=1;var i=wh(),e=C_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},k={};function U(t){return _.call(k,t)?!0:_.call(I,t)?!1:E.test(t)?k[t]=!0:(I[t]=!0,!1)}function $(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y(t,r,o,u){if(r===null||typeof r>"u"||$(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function X(t,r,o,u,h,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){W[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];W[r]=new X(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){W[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){W[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){W[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){W[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){W[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){W[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){W[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var Te=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Te,ge);W[r]=new X(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Te,ge);W[r]=new X(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Te,ge);W[r]=new X(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){W[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),W.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){W[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function ye(t,r,o,u){var h=W.hasOwnProperty(r)?W[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Y(r,o,h,u)&&(o=null),u||h===null?U(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,N;function j(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var ae=!1;function _e(t,r){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var u=F}Reflect.construct(t,[],r)}else{try{r.call()}catch(F){u=F}t.call(r.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,w=p.length-1;1<=y&&0<=w&&h[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==p[w]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=w);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?j(t):""}function Ee(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=_e(t.type,!1),t;case 11:return t=_e(t.type.render,!1),t;case 1:return t=_e(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ve:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case x:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rt:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case Ct:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ze(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dt(t){var r=ze(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qn(t){t._valueTracker||(t._valueTracker=dt(t))}function xi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=ze(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function pr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xr(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Oi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Oe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Hs(t,r){r=r.checked,r!=null&&ye(t,"checked",r,!1)}function Qs(t,r){Hs(t,r);var o=Oe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Li(t,r.type,o):r.hasOwnProperty("defaultValue")&&Li(t,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function la(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Li(t,r,o){(r!=="number"||pr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Wn=Array.isArray;function Kn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Oe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ws(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Wn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Oe(o)}}function Fi(t,r){var o=Oe(r.value),u=Oe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ks(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?at(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gn,Gs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Gn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function mr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zr=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(t){Zr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Jr[r]=Jr[t]})});function Ys(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Jr.hasOwnProperty(t)&&Jr[t]?(""+r).trim():r+"px"}function Xs(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Ys(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Js=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(t,r){if(r){if(Js[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function eo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,tn=null,Dn=null;function Bi(t){if(t=Ao(t)){if(typeof zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ua(r),zi(t.stateNode,t.type,r))}}function Nn(t){tn?Dn?Dn.push(t):Dn=[t]:tn=t}function to(){if(tn){var t=tn,r=Dn;if(Dn=tn=null,Bi(t),r)for(t=0;t<r.length;t++)Bi(r[t])}}function ti(t,r){return t(r)}function no(){}var Yn=!1;function ro(t,r,o){if(Yn)return t(r,o);Yn=!0;try{return ti(t,r,o)}finally{Yn=!1,(tn!==null||Dn!==null)&&(no(),to())}}function Ze(t,r){var o=t.stateNode;if(o===null)return null;var u=Ua(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ji=!1;if(g)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){ji=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{ji=!1}function ni(t,r,o,u,h,p,y,w,R){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(H){this.onError(H)}}var ri=!1,bi=null,mn=!1,io=null,du={onError:function(t){ri=!0,bi=t}};function $i(t,r,o,u,h,p,y,w,R){ri=!1,bi=null,ni.apply(du,arguments)}function ua(t,r,o,u,h,p,y,w,R){if($i.apply(this,arguments),ri){if(ri){var F=bi;ri=!1,bi=null}else throw Error(n(198));mn||(mn=!0,io=F)}}function gn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ii(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function yn(t){if(gn(t)!==t)throw Error(n(188))}function ca(t){var r=t.alternate;if(!r){if(r=gn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return yn(h),t;if(p===u)return yn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var y=!1,w=h.child;w;){if(w===o){y=!0,o=h,u=p;break}if(w===u){y=!0,u=h,o=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===o){y=!0,o=p,u=h;break}if(w===u){y=!0,u=p,o=h;break}w=w.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function so(t){return t=ca(t),t!==null?qi(t):null}function qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=qi(t);if(r!==null)return r;t=t.sibling}return null}var Hi=e.unstable_scheduleCallback,oo=e.unstable_cancelCallback,ha=e.unstable_shouldYield,pu=e.unstable_requestPaint,Be=e.unstable_now,fa=e.unstable_getCurrentPriorityLevel,si=e.unstable_ImmediatePriority,gr=e.unstable_UserBlockingPriority,nn=e.unstable_NormalPriority,ao=e.unstable_LowPriority,da=e.unstable_IdlePriority,oi=null,Kt=null;function pa(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(oi,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:ga,lo=Math.log,ma=Math.LN2;function ga(t){return t>>>=0,t===0?32:31-(lo(t)/ma|0)|0}var Qi=64,Wi=4194304;function yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ai(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var w=y&~h;w!==0?u=yr(w):(p&=y,p!==0&&(u=yr(p)))}else y=o&~h,y!==0?u=yr(y):p!==0&&(u=yr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Lt(r),h=1<<o,u|=t[o],r&=~h;return u}function mu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Lt(p),w=1<<y,R=h[y];R===-1?((w&o)===0||(w&u)!==0)&&(h[y]=mu(w,r)):R<=r&&(t.expiredLanes|=w),p&=~w}}function Gt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function li(){var t=Qi;return Qi<<=1,(Qi&4194240)===0&&(Qi=64),t}function _r(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function vr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Lt(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Lt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Er(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Lt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function wr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ya,Ki,_a,va,Ea,uo=!1,xn=[],vt=null,_n=null,vn=null,Tr=new Map,rn=new Map,On=[],gu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(t,r){switch(t){case"focusin":case"focusout":vt=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Tr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rn.delete(r.pointerId)}}function zt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Ao(r),r!==null&&Ki(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function yu(t,r,o,u,h){switch(r){case"focusin":return vt=zt(vt,t,r,o,u,h),!0;case"dragenter":return _n=zt(_n,t,r,o,u,h),!0;case"mouseover":return vn=zt(vn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Tr.set(p,zt(Tr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,rn.set(p,zt(rn.get(p)||null,t,r,o,u,h)),!0}return!1}function Ta(t){var r=di(t.target);if(r!==null){var o=gn(r);if(o!==null){if(r=o.tag,r===13){if(r=ii(o),r!==null){t.blockedOn=r,Ea(t.priority,function(){_a(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ei=u,o.target.dispatchEvent(u),ei=null}else return r=Ao(o),r!==null&&Ki(r),t.blockedOn=o,!1;r.shift()}return!0}function ui(t,r,o){Jn(t)&&o.delete(r)}function Ia(){uo=!1,vt!==null&&Jn(vt)&&(vt=null),_n!==null&&Jn(_n)&&(_n=null),vn!==null&&Jn(vn)&&(vn=null),Tr.forEach(ui),rn.forEach(ui)}function En(t,r){t.blockedOn===r&&(t.blockedOn=null,uo||(uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ia)))}function wn(t){function r(h){return En(h,t)}if(0<xn.length){En(xn[0],t);for(var o=1;o<xn.length;o++){var u=xn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(vt!==null&&En(vt,t),_n!==null&&En(_n,t),vn!==null&&En(vn,t),Tr.forEach(r),rn.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)Ta(o),o.blockedOn===null&&On.shift()}var Zn=Se.ReactCurrentBatchConfig,Ir=!0;function He(t,r,o,u){var h=Ae,p=Zn.transition;Zn.transition=null;try{Ae=1,co(t,r,o,u)}finally{Ae=h,Zn.transition=p}}function _u(t,r,o,u){var h=Ae,p=Zn.transition;Zn.transition=null;try{Ae=4,co(t,r,o,u)}finally{Ae=h,Zn.transition=p}}function co(t,r,o,u){if(Ir){var h=Gi(t,r,o,u);if(h===null)ku(t,r,u,ci,o),wa(t,u);else if(yu(h,t,r,o,u))u.stopPropagation();else if(wa(t,u),r&4&&-1<gu.indexOf(t)){for(;h!==null;){var p=Ao(h);if(p!==null&&ya(p),p=Gi(t,r,o,u),p===null&&ku(t,r,u,ci,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else ku(t,r,u,null,o)}}var ci=null;function Gi(t,r,o,u){if(ci=null,t=Ui(u),t=di(t),t!==null)if(r=gn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ii(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ci=t,null}function ho(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fa()){case si:return 1;case gr:return 4;case nn:case ao:return 16;case da:return 536870912;default:return 16}default:return 16}}var Yt=null,Yi=null,Bt=null;function fo(){if(Bt)return Bt;var t,r=Yi,o=r.length,u,h="value"in Yt?Yt.value:Yt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[p-u];u++);return Bt=h.slice(t,1<u?1-u:void 0)}function Xi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function po(){return!1}function Et(t){function r(o,u,h,p,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ln:po,this.isPropagationStopped=po,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),r}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Et(Tn),Mn=ee({},Tn,{view:0,detail:0}),vu=Et(Mn),Zi,er,Sr,hi=ee({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sr&&(Sr&&t.type==="mousemove"?(Zi=t.screenX-Sr.screenX,er=t.screenY-Sr.screenY):er=Zi=0,Sr=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:er}}),es=Et(hi),mo=ee({},hi,{dataTransfer:0}),Sa=Et(mo),ts=ee({},Mn,{relatedTarget:0}),ns=Et(ts),Aa=ee({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),tr=Et(Aa),Ra=ee({},Tn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=Et(Ra),Pa=ee({},Tn,{data:0}),go=Et(Pa),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Va(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ka[t])?!!r[t]:!1}function Fn(){return Va}var l=ee({},Mn,{key:function(t){if(t.key){var r=rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Xi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(t){return t.type==="keypress"?Xi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Et(l),m=ee({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=Et(m),O=ee({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn}),z=Et(O),G=ee({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=Et(G),ut=ee({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=Et(ut),pt=[9,13,27,32],rt=g&&"CompositionEvent"in window,sn=null;g&&"documentMode"in document&&(sn=document.documentMode);var Xt=g&&"TextEvent"in window&&!sn,fi=g&&(!rt||sn&&8<sn&&11>=sn),is=" ",nf=!1;function rf(t,r){switch(t){case"keyup":return pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function vy(t,r){switch(t){case"compositionend":return sf(r);case"keypress":return r.which!==32?null:(nf=!0,is);case"textInput":return t=r.data,t===is&&nf?null:t;default:return null}}function Ey(t,r){if(ss)return t==="compositionend"||!rt&&rf(t,r)?(t=fo(),Bt=Yi=Yt=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return fi&&r.locale!=="ko"?null:r.data;default:return null}}var wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!wy[t.type]:r==="textarea"}function af(t,r,o,u){Nn(u),r=La(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var yo=null,_o=null;function Ty(t){Af(t,0)}function Da(t){var r=cs(t);if(xi(r))return t}function Iy(t,r){if(t==="change")return r}var lf=!1;if(g){var Eu;if(g){var wu="oninput"in document;if(!wu){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),wu=typeof uf.oninput=="function"}Eu=wu}else Eu=!1;lf=Eu&&(!document.documentMode||9<document.documentMode)}function cf(){yo&&(yo.detachEvent("onpropertychange",hf),_o=yo=null)}function hf(t){if(t.propertyName==="value"&&Da(_o)){var r=[];af(r,_o,t,Ui(t)),ro(Ty,r)}}function Sy(t,r,o){t==="focusin"?(cf(),yo=r,_o=o,yo.attachEvent("onpropertychange",hf)):t==="focusout"&&cf()}function Ay(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Da(_o)}function Ry(t,r){if(t==="click")return Da(r)}function Cy(t,r){if(t==="input"||t==="change")return Da(r)}function Py(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:Py;function vo(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_.call(r,h)||!In(t[h],r[h]))return!1}return!0}function ff(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function df(t,r){var o=ff(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ff(o)}}function pf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?pf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function mf(){for(var t=window,r=pr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=pr(t.document)}return r}function Tu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function ky(t){var r=mf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&pf(o.ownerDocument.documentElement,o)){if(u!==null&&Tu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=df(o,p);var y=df(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vy=g&&"documentMode"in document&&11>=document.documentMode,os=null,Iu=null,Eo=null,Su=!1;function gf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Su||os==null||os!==pr(u)||(u=os,"selectionStart"in u&&Tu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Eo&&vo(Eo,u)||(Eo=u,u=La(Iu,"onSelect"),0<u.length&&(r=new Ji("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=os)))}function Na(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var as={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},Au={},yf={};g&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function xa(t){if(Au[t])return Au[t];if(!as[t])return t;var r=as[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in yf)return Au[t]=r[o];return t}var _f=xa("animationend"),vf=xa("animationiteration"),Ef=xa("animationstart"),wf=xa("transitionend"),Tf=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,r){Tf.set(t,r),c(r,[t])}for(var Ru=0;Ru<If.length;Ru++){var Cu=If[Ru],Dy=Cu.toLowerCase(),Ny=Cu[0].toUpperCase()+Cu.slice(1);Ar(Dy,"on"+Ny)}Ar(_f,"onAnimationEnd"),Ar(vf,"onAnimationIteration"),Ar(Ef,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(wf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xy=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Sf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ua(u,r,void 0,t),t.currentTarget=null}function Af(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var w=u[y],R=w.instance,F=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;Sf(h,w,F),p=R}else for(y=0;y<u.length;y++){if(w=u[y],R=w.instance,F=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;Sf(h,w,F),p=R}}}if(mn)throw t=io,mn=!1,io=null,t}function be(t,r){var o=r[Lu];o===void 0&&(o=r[Lu]=new Set);var u=t+"__bubble";o.has(u)||(Rf(r,t,2,!1),o.add(u))}function Pu(t,r,o){var u=0;r&&(u|=4),Rf(o,t,u,r)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Oa]){t[Oa]=!0,s.forEach(function(o){o!=="selectionchange"&&(xy.has(o)||Pu(o,!1,t),Pu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Oa]||(r[Oa]=!0,Pu("selectionchange",!1,r))}}function Rf(t,r,o,u){switch(ho(r)){case 1:var h=He;break;case 4:h=_u;break;default:h=co}o=h.bind(null,r,o,t),h=void 0,!ji||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function ku(t,r,o,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;w!==null;){if(y=di(w),y===null)return;if(R=y.tag,R===5||R===6){u=p=y;continue e}w=w.parentNode}}u=u.return}ro(function(){var F=p,H=Ui(o),Q=[];e:{var q=Tf.get(t);if(q!==void 0){var Z=Ji,re=t;switch(t){case"keypress":if(Xi(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":re="focus",Z=ns;break;case"focusout":re="blur",Z=ns;break;case"beforeblur":case"afterblur":Z=ns;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z;break;case _f:case vf:case Ef:Z=tr;break;case wf:Z=Me;break;case"scroll":Z=vu;break;case"wheel":Z=Ce;break;case"copy":case"cut":case"paste":Z=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var se=(r&4)!==0,et=!se&&t==="scroll",L=se?q!==null?q+"Capture":null:q;se=[];for(var C=F,M;C!==null;){M=C;var K=M.stateNode;if(M.tag===5&&K!==null&&(M=K,L!==null&&(K=Ze(C,L),K!=null&&se.push(Io(C,K,M)))),et)break;C=C.return}0<se.length&&(q=new Z(q,re,null,o,H),Q.push({event:q,listeners:se}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",q&&o!==ei&&(re=o.relatedTarget||o.fromElement)&&(di(re)||re[nr]))break e;if((Z||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(re=o.relatedTarget||o.toElement,Z=F,re=re?di(re):null,re!==null&&(et=gn(re),re!==et||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=F),Z!==re)){if(se=es,K="onMouseLeave",L="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(se=v,K="onPointerLeave",L="onPointerEnter",C="pointer"),et=Z==null?q:cs(Z),M=re==null?q:cs(re),q=new se(K,C+"leave",Z,o,H),q.target=et,q.relatedTarget=M,K=null,di(H)===F&&(se=new se(L,C+"enter",re,o,H),se.target=M,se.relatedTarget=et,K=se),et=K,Z&&re)t:{for(se=Z,L=re,C=0,M=se;M;M=ls(M))C++;for(M=0,K=L;K;K=ls(K))M++;for(;0<C-M;)se=ls(se),C--;for(;0<M-C;)L=ls(L),M--;for(;C--;){if(se===L||L!==null&&se===L.alternate)break t;se=ls(se),L=ls(L)}se=null}else se=null;Z!==null&&Cf(Q,q,Z,se,!1),re!==null&&et!==null&&Cf(Q,et,re,se,!0)}}e:{if(q=F?cs(F):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var oe=Iy;else if(of(q))if(lf)oe=Cy;else{oe=Ay;var ce=Sy}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(oe=Ry);if(oe&&(oe=oe(t,F))){af(Q,oe,o,H);break e}ce&&ce(t,q,F),t==="focusout"&&(ce=q._wrapperState)&&ce.controlled&&q.type==="number"&&Li(q,"number",q.value)}switch(ce=F?cs(F):window,t){case"focusin":(of(ce)||ce.contentEditable==="true")&&(os=ce,Iu=F,Eo=null);break;case"focusout":Eo=Iu=os=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,gf(Q,o,H);break;case"selectionchange":if(Vy)break;case"keydown":case"keyup":gf(Q,o,H)}var he;if(rt)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else ss?rf(t,o)&&(de="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(de="onCompositionStart");de&&(fi&&o.locale!=="ko"&&(ss||de!=="onCompositionStart"?de==="onCompositionEnd"&&ss&&(he=fo()):(Yt=H,Yi="value"in Yt?Yt.value:Yt.textContent,ss=!0)),ce=La(F,de),0<ce.length&&(de=new go(de,t,null,o,H),Q.push({event:de,listeners:ce}),he?de.data=he:(he=sf(o),he!==null&&(de.data=he)))),(he=Xt?vy(t,o):Ey(t,o))&&(F=La(F,"onBeforeInput"),0<F.length&&(H=new go("onBeforeInput","beforeinput",null,o,H),Q.push({event:H,listeners:F}),H.data=he))}Af(Q,r)})}function Io(t,r,o){return{instance:t,listener:r,currentTarget:o}}function La(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=Ze(t,o),p!=null&&u.unshift(Io(t,p,h)),p=Ze(t,r),p!=null&&u.push(Io(t,p,h))),t=t.return}return u}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cf(t,r,o,u,h){for(var p=r._reactName,y=[];o!==null&&o!==u;){var w=o,R=w.alternate,F=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&F!==null&&(w=F,h?(R=Ze(o,p),R!=null&&y.unshift(Io(o,R,w))):h||(R=Ze(o,p),R!=null&&y.push(Io(o,R,w)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var Oy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(Oy,`
`).replace(Ly,"")}function Ma(t,r,o){if(r=Pf(r),Pf(t)!==r&&o)throw Error(n(425))}function Fa(){}var Vu=null,Du=null;function Nu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,Fy=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(t){return kf.resolve(null).then(t).catch(Uy)}:xu;function Uy(t){setTimeout(function(){throw t})}function Ou(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),wn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);wn(r)}function Rr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Vf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Un="__reactFiber$"+us,So="__reactProps$"+us,nr="__reactContainer$"+us,Lu="__reactEvents$"+us,zy="__reactListeners$"+us,By="__reactHandles$"+us;function di(t){var r=t[Un];if(r)return r;for(var o=t.parentNode;o;){if(r=o[nr]||o[Un]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Vf(t);t!==null;){if(o=t[Un])return o;t=Vf(t)}return r}t=o,o=t.parentNode}return null}function Ao(t){return t=t[Un]||t[nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ua(t){return t[So]||null}var Mu=[],hs=-1;function Cr(t){return{current:t}}function $e(t){0>hs||(t.current=Mu[hs],Mu[hs]=null,hs--)}function je(t,r){hs++,Mu[hs]=t.current,t.current=r}var Pr={},Pt=Cr(Pr),jt=Cr(!1),pi=Pr;function fs(t,r){var o=t.type.contextTypes;if(!o)return Pr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function bt(t){return t=t.childContextTypes,t!=null}function za(){$e(jt),$e(Pt)}function Df(t,r,o){if(Pt.current!==Pr)throw Error(n(168));je(Pt,r),je(jt,o)}function Nf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,xe(t)||"Unknown",h));return ee({},o,u)}function Ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,pi=Pt.current,je(Pt,t),je(jt,jt.current),!0}function xf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Nf(t,r,pi),u.__reactInternalMemoizedMergedChildContext=t,$e(jt),$e(Pt),je(Pt,t)):$e(jt),je(jt,o)}var rr=null,ja=!1,Fu=!1;function Of(t){rr===null?rr=[t]:rr.push(t)}function jy(t){ja=!0,Of(t)}function kr(){if(!Fu&&rr!==null){Fu=!0;var t=0,r=Ae;try{var o=rr;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}rr=null,ja=!1}catch(h){throw rr!==null&&(rr=rr.slice(t+1)),Hi(si,kr),h}finally{Ae=r,Fu=!1}}return null}var ds=[],ps=0,ba=null,$a=0,on=[],an=0,mi=null,ir=1,sr="";function gi(t,r){ds[ps++]=$a,ds[ps++]=ba,ba=t,$a=r}function Lf(t,r,o){on[an++]=ir,on[an++]=sr,on[an++]=mi,mi=t;var u=ir;t=sr;var h=32-Lt(u)-1;u&=~(1<<h),o+=1;var p=32-Lt(r)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,ir=1<<32-Lt(r)+h|o<<h|u,sr=p+t}else ir=1<<p|o<<h|u,sr=t}function Uu(t){t.return!==null&&(gi(t,1),Lf(t,1,0))}function zu(t){for(;t===ba;)ba=ds[--ps],ds[ps]=null,$a=ds[--ps],ds[ps]=null;for(;t===mi;)mi=on[--an],on[an]=null,sr=on[--an],on[an]=null,ir=on[--an],on[an]=null}var Jt=null,Zt=null,Qe=!1,Sn=null;function Mf(t,r){var o=hn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Ff(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Jt=t,Zt=Rr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Jt=t,Zt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=mi!==null?{id:ir,overflow:sr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=hn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Jt=t,Zt=null,!0):!1;default:return!1}}function Bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ju(t){if(Qe){var r=Zt;if(r){var o=r;if(!Ff(t,r)){if(Bu(t))throw Error(n(418));r=Rr(o.nextSibling);var u=Jt;r&&Ff(t,r)?Mf(u,o):(t.flags=t.flags&-4097|2,Qe=!1,Jt=t)}}else{if(Bu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Qe=!1,Jt=t}}}function Uf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function qa(t){if(t!==Jt)return!1;if(!Qe)return Uf(t),Qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Nu(t.type,t.memoizedProps)),r&&(r=Zt)){if(Bu(t))throw zf(),Error(n(418));for(;r;)Mf(t,r),r=Rr(r.nextSibling)}if(Uf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Zt=Rr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Zt=null}}else Zt=Jt?Rr(t.stateNode.nextSibling):null;return!0}function zf(){for(var t=Zt;t;)t=Rr(t.nextSibling)}function ms(){Zt=Jt=null,Qe=!1}function bu(t){Sn===null?Sn=[t]:Sn.push(t)}var by=Se.ReactCurrentBatchConfig;function Ro(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var w=h.refs;y===null?delete w[p]:w[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ha(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Bf(t){var r=t._init;return r(t._payload)}function jf(t){function r(L,C){if(t){var M=L.deletions;M===null?(L.deletions=[C],L.flags|=16):M.push(C)}}function o(L,C){if(!t)return null;for(;C!==null;)r(L,C),C=C.sibling;return null}function u(L,C){for(L=new Map;C!==null;)C.key!==null?L.set(C.key,C):L.set(C.index,C),C=C.sibling;return L}function h(L,C){return L=Fr(L,C),L.index=0,L.sibling=null,L}function p(L,C,M){return L.index=M,t?(M=L.alternate,M!==null?(M=M.index,M<C?(L.flags|=2,C):M):(L.flags|=2,C)):(L.flags|=1048576,C)}function y(L){return t&&L.alternate===null&&(L.flags|=2),L}function w(L,C,M,K){return C===null||C.tag!==6?(C=xc(M,L.mode,K),C.return=L,C):(C=h(C,M),C.return=L,C)}function R(L,C,M,K){var oe=M.type;return oe===V?H(L,C,M.props.children,K,M.key):C!==null&&(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ct&&Bf(oe)===C.type)?(K=h(C,M.props),K.ref=Ro(L,C,M),K.return=L,K):(K=ml(M.type,M.key,M.props,null,L.mode,K),K.ref=Ro(L,C,M),K.return=L,K)}function F(L,C,M,K){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=Oc(M,L.mode,K),C.return=L,C):(C=h(C,M.children||[]),C.return=L,C)}function H(L,C,M,K,oe){return C===null||C.tag!==7?(C=Si(M,L.mode,K,oe),C.return=L,C):(C=h(C,M),C.return=L,C)}function Q(L,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return C=xc(""+C,L.mode,M),C.return=L,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xe:return M=ml(C.type,C.key,C.props,null,L.mode,M),M.ref=Ro(L,null,C),M.return=L,M;case Ve:return C=Oc(C,L.mode,M),C.return=L,C;case Ct:var K=C._init;return Q(L,K(C._payload),M)}if(Wn(C)||ue(C))return C=Si(C,L.mode,M,null),C.return=L,C;Ha(L,C)}return null}function q(L,C,M,K){var oe=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return oe!==null?null:w(L,C,""+M,K);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:return M.key===oe?R(L,C,M,K):null;case Ve:return M.key===oe?F(L,C,M,K):null;case Ct:return oe=M._init,q(L,C,oe(M._payload),K)}if(Wn(M)||ue(M))return oe!==null?null:H(L,C,M,K,null);Ha(L,M)}return null}function Z(L,C,M,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number")return L=L.get(M)||null,w(C,L,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Xe:return L=L.get(K.key===null?M:K.key)||null,R(C,L,K,oe);case Ve:return L=L.get(K.key===null?M:K.key)||null,F(C,L,K,oe);case Ct:var ce=K._init;return Z(L,C,M,ce(K._payload),oe)}if(Wn(K)||ue(K))return L=L.get(M)||null,H(C,L,K,oe,null);Ha(C,K)}return null}function re(L,C,M,K){for(var oe=null,ce=null,he=C,de=C=0,yt=null;he!==null&&de<M.length;de++){he.index>de?(yt=he,he=null):yt=he.sibling;var Ne=q(L,he,M[de],K);if(Ne===null){he===null&&(he=yt);break}t&&he&&Ne.alternate===null&&r(L,he),C=p(Ne,C,de),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne,he=yt}if(de===M.length)return o(L,he),Qe&&gi(L,de),oe;if(he===null){for(;de<M.length;de++)he=Q(L,M[de],K),he!==null&&(C=p(he,C,de),ce===null?oe=he:ce.sibling=he,ce=he);return Qe&&gi(L,de),oe}for(he=u(L,he);de<M.length;de++)yt=Z(he,L,de,M[de],K),yt!==null&&(t&&yt.alternate!==null&&he.delete(yt.key===null?de:yt.key),C=p(yt,C,de),ce===null?oe=yt:ce.sibling=yt,ce=yt);return t&&he.forEach(function(Ur){return r(L,Ur)}),Qe&&gi(L,de),oe}function se(L,C,M,K){var oe=ue(M);if(typeof oe!="function")throw Error(n(150));if(M=oe.call(M),M==null)throw Error(n(151));for(var ce=oe=null,he=C,de=C=0,yt=null,Ne=M.next();he!==null&&!Ne.done;de++,Ne=M.next()){he.index>de?(yt=he,he=null):yt=he.sibling;var Ur=q(L,he,Ne.value,K);if(Ur===null){he===null&&(he=yt);break}t&&he&&Ur.alternate===null&&r(L,he),C=p(Ur,C,de),ce===null?oe=Ur:ce.sibling=Ur,ce=Ur,he=yt}if(Ne.done)return o(L,he),Qe&&gi(L,de),oe;if(he===null){for(;!Ne.done;de++,Ne=M.next())Ne=Q(L,Ne.value,K),Ne!==null&&(C=p(Ne,C,de),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne);return Qe&&gi(L,de),oe}for(he=u(L,he);!Ne.done;de++,Ne=M.next())Ne=Z(he,L,de,Ne.value,K),Ne!==null&&(t&&Ne.alternate!==null&&he.delete(Ne.key===null?de:Ne.key),C=p(Ne,C,de),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne);return t&&he.forEach(function(w_){return r(L,w_)}),Qe&&gi(L,de),oe}function et(L,C,M,K){if(typeof M=="object"&&M!==null&&M.type===V&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:e:{for(var oe=M.key,ce=C;ce!==null;){if(ce.key===oe){if(oe=M.type,oe===V){if(ce.tag===7){o(L,ce.sibling),C=h(ce,M.props.children),C.return=L,L=C;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ct&&Bf(oe)===ce.type){o(L,ce.sibling),C=h(ce,M.props),C.ref=Ro(L,ce,M),C.return=L,L=C;break e}o(L,ce);break}else r(L,ce);ce=ce.sibling}M.type===V?(C=Si(M.props.children,L.mode,K,M.key),C.return=L,L=C):(K=ml(M.type,M.key,M.props,null,L.mode,K),K.ref=Ro(L,C,M),K.return=L,L=K)}return y(L);case Ve:e:{for(ce=M.key;C!==null;){if(C.key===ce)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){o(L,C.sibling),C=h(C,M.children||[]),C.return=L,L=C;break e}else{o(L,C);break}else r(L,C);C=C.sibling}C=Oc(M,L.mode,K),C.return=L,L=C}return y(L);case Ct:return ce=M._init,et(L,C,ce(M._payload),K)}if(Wn(M))return re(L,C,M,K);if(ue(M))return se(L,C,M,K);Ha(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,C!==null&&C.tag===6?(o(L,C.sibling),C=h(C,M),C.return=L,L=C):(o(L,C),C=xc(M,L.mode,K),C.return=L,L=C),y(L)):o(L,C)}return et}var gs=jf(!0),bf=jf(!1),Qa=Cr(null),Wa=null,ys=null,$u=null;function qu(){$u=ys=Wa=null}function Hu(t){var r=Qa.current;$e(Qa),t._currentValue=r}function Qu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function _s(t,r){Wa=t,$u=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&($t=!0),t.firstContext=null)}function ln(t){var r=t._currentValue;if($u!==t)if(t={context:t,memoizedValue:r,next:null},ys===null){if(Wa===null)throw Error(n(308));ys=t,Wa.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return r}var yi=null;function Wu(t){yi===null?yi=[t]:yi.push(t)}function $f(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Wu(r)):(o.next=h.next,h.next=o),r.interleaved=o,or(t,u)}function or(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Vr=!1;function Ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Dr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,or(t,o)}return h=u.interleaved,h===null?(r.next=r,Wu(u)):(r.next=h.next,h.next=r),u.interleaved=r,or(t,o)}function Ka(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Er(t,o)}}function Hf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ga(t,r,o,u){var h=t.updateQueue;Vr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,F=R.next;R.next=null,y===null?p=F:y.next=F,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==y&&(w===null?H.firstBaseUpdate=F:w.next=F,H.lastBaseUpdate=R))}if(p!==null){var Q=h.baseState;y=0,H=F=R=null,w=p;do{var q=w.lane,Z=w.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,se=w;switch(q=r,Z=o,se.tag){case 1:if(re=se.payload,typeof re=="function"){Q=re.call(Z,Q,q);break e}Q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,q=typeof re=="function"?re.call(Z,Q,q):re,q==null)break e;Q=ee({},Q,q);break e;case 2:Vr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[w]:q.push(w))}else Z={eventTime:Z,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(F=H=Z,R=Q):H=H.next=Z,y|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;q=w,w=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=F,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ei|=y,t.lanes=y,t.memoizedState=Q}}function Qf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Co={},zn=Cr(Co),Po=Cr(Co),ko=Cr(Co);function _i(t){if(t===Co)throw Error(n(174));return t}function Gu(t,r){switch(je(ko,r),je(Po,t),je(zn,Co),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:lt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=lt(r,t)}$e(zn),je(zn,r)}function vs(){$e(zn),$e(Po),$e(ko)}function Wf(t){_i(ko.current);var r=_i(zn.current),o=lt(r,t.type);r!==o&&(je(Po,t),je(zn,o))}function Yu(t){Po.current===t&&($e(zn),$e(Po))}var We=Cr(0);function Ya(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Xu=[];function Ju(){for(var t=0;t<Xu.length;t++)Xu[t]._workInProgressVersionPrimary=null;Xu.length=0}var Xa=Se.ReactCurrentDispatcher,Zu=Se.ReactCurrentBatchConfig,vi=0,Ke=null,ct=null,mt=null,Ja=!1,Vo=!1,Do=0,$y=0;function kt(){throw Error(n(321))}function ec(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!In(t[o],r[o]))return!1;return!0}function tc(t,r,o,u,h,p){if(vi=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Xa.current=t===null||t.memoizedState===null?Wy:Ky,t=o(u,h),Vo){p=0;do{if(Vo=!1,Do=0,25<=p)throw Error(n(301));p+=1,mt=ct=null,r.updateQueue=null,Xa.current=Gy,t=o(u,h)}while(Vo)}if(Xa.current=tl,r=ct!==null&&ct.next!==null,vi=0,mt=ct=Ke=null,Ja=!1,r)throw Error(n(300));return t}function nc(){var t=Do!==0;return Do=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=t:mt=mt.next=t,mt}function un(){if(ct===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=mt===null?Ke.memoizedState:mt.next;if(r!==null)mt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?Ke.memoizedState=mt=t:mt=mt.next=t}return mt}function No(t,r){return typeof r=="function"?r(t):r}function rc(t){var r=un(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ct,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=y=null,R=null,F=p;do{var H=F.lane;if((vi&H)===H)R!==null&&(R=R.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var Q={lane:H,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};R===null?(w=R=Q,y=u):R=R.next=Q,Ke.lanes|=H,Ei|=H}F=F.next}while(F!==null&&F!==p);R===null?y=u:R.next=w,In(u,r.memoizedState)||($t=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,Ei|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ic(t){var r=un(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);In(p,r.memoizedState)||($t=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Kf(){}function Gf(t,r){var o=Ke,u=un(),h=r(),p=!In(u.memoizedState,h);if(p&&(u.memoizedState=h,$t=!0),u=u.queue,sc(Jf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,xo(9,Xf.bind(null,o,u,h,r),void 0,null),gt===null)throw Error(n(349));(vi&30)!==0||Yf(o,r,h)}return h}function Yf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Xf(t,r,o,u){r.value=o,r.getSnapshot=u,Zf(r)&&ed(t)}function Jf(t,r,o){return o(function(){Zf(r)&&ed(t)})}function Zf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!In(t,o)}catch{return!0}}function ed(t){var r=or(t,1);r!==null&&Pn(r,t,1,-1)}function td(t){var r=Bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},r.queue=t,t=t.dispatch=Qy.bind(null,Ke,t),[r.memoizedState,t]}function xo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function nd(){return un().memoizedState}function Za(t,r,o,u){var h=Bn();Ke.flags|=t,h.memoizedState=xo(1|r,o,void 0,u===void 0?null:u)}function el(t,r,o,u){var h=un();u=u===void 0?null:u;var p=void 0;if(ct!==null){var y=ct.memoizedState;if(p=y.destroy,u!==null&&ec(u,y.deps)){h.memoizedState=xo(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=xo(1|r,o,p,u)}function rd(t,r){return Za(8390656,8,t,r)}function sc(t,r){return el(2048,8,t,r)}function id(t,r){return el(4,2,t,r)}function sd(t,r){return el(4,4,t,r)}function od(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ad(t,r,o){return o=o!=null?o.concat([t]):null,el(4,4,od.bind(null,r,t),o)}function oc(){}function ld(t,r){var o=un();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ec(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function ud(t,r){var o=un();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ec(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function cd(t,r,o){return(vi&21)===0?(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=o):(In(o,r)||(o=li(),Ke.lanes|=o,Ei|=o,t.baseState=!0),r)}function qy(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=Zu.transition;Zu.transition={};try{t(!1),r()}finally{Ae=o,Zu.transition=u}}function hd(){return un().memoizedState}function Hy(t,r,o){var u=Lr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},fd(t))dd(r,o);else if(o=$f(t,r,o,u),o!==null){var h=Ut();Pn(o,t,u,h),pd(o,r,u)}}function Qy(t,r,o){var u=Lr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(fd(t))dd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,w=p(y,o);if(h.hasEagerState=!0,h.eagerState=w,In(w,y)){var R=r.interleaved;R===null?(h.next=h,Wu(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=$f(t,r,h,u),o!==null&&(h=Ut(),Pn(o,t,u,h),pd(o,r,u))}}function fd(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function dd(t,r){Vo=Ja=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function pd(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Er(t,o)}}var tl={readContext:ln,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Wy={readContext:ln,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:ln,useEffect:rd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Za(4194308,4,od.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Za(4194308,4,t,r)},useInsertionEffect:function(t,r){return Za(4,2,t,r)},useMemo:function(t,r){var o=Bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Hy.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:td,useDebugValue:oc,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=td(!1),r=t[0];return t=qy.bind(null,t[1]),Bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=Bn();if(Qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),gt===null)throw Error(n(349));(vi&30)!==0||Yf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,rd(Jf.bind(null,u,p,t),[t]),u.flags|=2048,xo(9,Xf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Bn(),r=gt.identifierPrefix;if(Qe){var o=sr,u=ir;o=(u&~(1<<32-Lt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Do++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=$y++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ky={readContext:ln,useCallback:ld,useContext:ln,useEffect:sc,useImperativeHandle:ad,useInsertionEffect:id,useLayoutEffect:sd,useMemo:ud,useReducer:rc,useRef:nd,useState:function(){return rc(No)},useDebugValue:oc,useDeferredValue:function(t){var r=un();return cd(r,ct.memoizedState,t)},useTransition:function(){var t=rc(No)[0],r=un().memoizedState;return[t,r]},useMutableSource:Kf,useSyncExternalStore:Gf,useId:hd,unstable_isNewReconciler:!1},Gy={readContext:ln,useCallback:ld,useContext:ln,useEffect:sc,useImperativeHandle:ad,useInsertionEffect:id,useLayoutEffect:sd,useMemo:ud,useReducer:ic,useRef:nd,useState:function(){return ic(No)},useDebugValue:oc,useDeferredValue:function(t){var r=un();return ct===null?r.memoizedState=t:cd(r,ct.memoizedState,t)},useTransition:function(){var t=ic(No)[0],r=un().memoizedState;return[t,r]},useMutableSource:Kf,useSyncExternalStore:Gf,useId:hd,unstable_isNewReconciler:!1};function An(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function ac(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var nl={isMounted:function(t){return(t=t._reactInternals)?gn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=Lr(t),p=ar(u,h);p.payload=r,o!=null&&(p.callback=o),r=Dr(t,p,h),r!==null&&(Pn(r,t,h,u),Ka(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=Lr(t),p=ar(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Dr(t,p,h),r!==null&&(Pn(r,t,h,u),Ka(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Ut(),u=Lr(t),h=ar(o,u);h.tag=2,r!=null&&(h.callback=r),r=Dr(t,h,u),r!==null&&(Pn(r,t,u,o),Ka(r,t,u))}};function md(t,r,o,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!vo(o,u)||!vo(h,p):!0}function gd(t,r,o){var u=!1,h=Pr,p=r.contextType;return typeof p=="object"&&p!==null?p=ln(p):(h=bt(r)?pi:Pt.current,u=r.contextTypes,p=(u=u!=null)?fs(t,h):Pr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=nl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function yd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&nl.enqueueReplaceState(r,r.state,null)}function lc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Ku(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=ln(p):(p=bt(r)?pi:Pt.current,h.context=fs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ac(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&nl.enqueueReplaceState(h,h.state,null),Ga(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,r){try{var o="",u=r;do o+=Ee(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function uc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function cc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Yy=typeof WeakMap=="function"?WeakMap:Map;function _d(t,r,o){o=ar(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){ul||(ul=!0,Ac=u),cc(t,r)},o}function vd(t,r,o){o=ar(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){cc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){cc(t,r),typeof u!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function Ed(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Yy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=c_.bind(null,t,r,o),r.then(t,t))}function wd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Td(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ar(-1,1),r.tag=2,Dr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var Xy=Se.ReactCurrentOwner,$t=!1;function Ft(t,r,o,u){r.child=t===null?bf(r,null,o,u):gs(r,t.child,o,u)}function Id(t,r,o,u,h){o=o.render;var p=r.ref;return _s(r,h),u=tc(t,r,o,u,p,h),o=nc(),t!==null&&!$t?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,lr(t,r,h)):(Qe&&o&&Uu(r),r.flags|=1,Ft(t,r,u,h),r.child)}function Sd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Nc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Ad(t,r,p,u,h)):(t=ml(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&h)===0){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:vo,o(y,u)&&t.ref===r.ref)return lr(t,r,h)}return r.flags|=1,t=Fr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Ad(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(vo(p,u)&&t.ref===r.ref)if($t=!1,r.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&($t=!0);else return r.lanes=t.lanes,lr(t,r,h)}return hc(t,r,o,u,h)}function Rd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ts,en),en|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,je(Ts,en),en|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,je(Ts,en),en|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,je(Ts,en),en|=u;return Ft(t,r,h,o),r.child}function Cd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function hc(t,r,o,u,h){var p=bt(o)?pi:Pt.current;return p=fs(r,p),_s(r,h),o=tc(t,r,o,u,p,h),u=nc(),t!==null&&!$t?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,lr(t,r,h)):(Qe&&u&&Uu(r),r.flags|=1,Ft(t,r,o,h),r.child)}function Pd(t,r,o,u,h){if(bt(o)){var p=!0;Ba(r)}else p=!1;if(_s(r,h),r.stateNode===null)il(t,r),gd(r,o,u),lc(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,w=r.memoizedProps;y.props=w;var R=y.context,F=o.contextType;typeof F=="object"&&F!==null?F=ln(F):(F=bt(o)?pi:Pt.current,F=fs(r,F));var H=o.getDerivedStateFromProps,Q=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||R!==F)&&yd(r,y,u,F),Vr=!1;var q=r.memoizedState;y.state=q,Ga(r,u,y,h),R=r.memoizedState,w!==u||q!==R||jt.current||Vr?(typeof H=="function"&&(ac(r,o,H,u),R=r.memoizedState),(w=Vr||md(r,o,w,u,q,R,F))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),y.props=u,y.state=R,y.context=F,u=w):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,qf(t,r),w=r.memoizedProps,F=r.type===r.elementType?w:An(r.type,w),y.props=F,Q=r.pendingProps,q=y.context,R=o.contextType,typeof R=="object"&&R!==null?R=ln(R):(R=bt(o)?pi:Pt.current,R=fs(r,R));var Z=o.getDerivedStateFromProps;(H=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Q||q!==R)&&yd(r,y,u,R),Vr=!1,q=r.memoizedState,y.state=q,Ga(r,u,y,h);var re=r.memoizedState;w!==Q||q!==re||jt.current||Vr?(typeof Z=="function"&&(ac(r,o,Z,u),re=r.memoizedState),(F=Vr||md(r,o,F,u,q,re,R)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,R)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),y.props=u,y.state=re,y.context=R,u=F):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return fc(t,r,o,u,p,h)}function fc(t,r,o,u,h,p){Cd(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&xf(r,o,!1),lr(t,r,p);u=r.stateNode,Xy.current=r;var w=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=gs(r,t.child,null,p),r.child=gs(r,null,w,p)):Ft(t,r,w,p),r.memoizedState=u.state,h&&xf(r,o,!0),r.child}function kd(t){var r=t.stateNode;r.pendingContext?Df(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Df(t,r.context,!1),Gu(t,r.containerInfo)}function Vd(t,r,o,u,h){return ms(),bu(h),r.flags|=256,Ft(t,r,o,u),r.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function pc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dd(t,r,o){var u=r.pendingProps,h=We.current,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),je(We,h&1),t===null)return ju(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=gl(y,u,0,null),t=Si(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=pc(o),r.memoizedState=dc,t):mc(r,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return Jy(t,r,y,u,w,h,o);if(p){p=u.fallback,y=r.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Fr(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=Fr(w,p):(p=Si(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?pc(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=dc,u}return p=t.child,t=p.sibling,u=Fr(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function mc(t,r){return r=gl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function rl(t,r,o,u){return u!==null&&bu(u),gs(r,t.child,null,o),t=mc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Jy(t,r,o,u,h,p,y){if(o)return r.flags&256?(r.flags&=-257,u=uc(Error(n(422))),rl(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=gl({mode:"visible",children:u.children},h,0,null),p=Si(p,h,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&gs(r,t.child,null,y),r.child.memoizedState=pc(y),r.memoizedState=dc,p);if((r.mode&1)===0)return rl(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=uc(p,u,void 0),rl(t,r,y,u)}if(w=(y&t.childLanes)!==0,$t||w){if(u=gt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,or(t,h),Pn(u,t,h,-1))}return Dc(),u=uc(Error(n(421))),rl(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=h_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,Zt=Rr(h.nextSibling),Jt=r,Qe=!0,Sn=null,t!==null&&(on[an++]=ir,on[an++]=sr,on[an++]=mi,ir=t.id,sr=t.overflow,mi=r),r=mc(r,u.children),r.flags|=4096,r)}function Nd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Qu(t.return,r,o)}function gc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function xd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ft(t,r,u.children,o),u=We.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nd(t,o,r);else if(t.tag===19)Nd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(je(We,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Ya(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),gc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ya(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}gc(r,!0,o,null,p);break;case"together":gc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function il(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function lr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ei|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Fr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Fr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Zy(t,r,o){switch(r.tag){case 3:kd(r),ms();break;case 5:Wf(r);break;case 1:bt(r.type)&&Ba(r);break;case 4:Gu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;je(Qa,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(je(We,We.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Dd(t,r,o):(je(We,We.current&1),t=lr(t,r,o),t!==null?t.sibling:null);je(We,We.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return xd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(We,We.current),u)break;return null;case 22:case 23:return r.lanes=0,Rd(t,r,o)}return lr(t,r,o)}var Od,yc,Ld,Md;Od=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},yc=function(){},Ld=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,_i(zn.current);var p=null;switch(o){case"input":h=Xr(t,h),u=Xr(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Ws(t,h),u=Ws(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Fa)}Zs(o,u);var y;o=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(y in w)w.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in u){var R=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&R!==w&&(R!=null||w!=null))if(F==="style")if(w){for(y in w)!w.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in R)R.hasOwnProperty(y)&&w[y]!==R[y]&&(o||(o={}),o[y]=R[y])}else o||(p||(p=[]),p.push(F,o)),o=R;else F==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(F,R)):F==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(F,""+R):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(R!=null&&F==="onScroll"&&be("scroll",t),p||w===R||(p=[])):(p=p||[]).push(F,R))}o&&(p=p||[]).push("style",o);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Md=function(t,r,o,u){o!==u&&(r.flags|=4)};function Oo(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function e_(t,r,o){var u=r.pendingProps;switch(zu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return bt(r.type)&&za(),Vt(r),null;case 3:return u=r.stateNode,vs(),$e(jt),$e(Pt),Ju(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(qa(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sn!==null&&(Pc(Sn),Sn=null))),yc(t,r),Vt(r),null;case 5:Yu(r);var h=_i(ko.current);if(o=r.type,t!==null&&r.stateNode!=null)Ld(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=_i(zn.current),qa(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Un]=r,u[So]=p,t=(r.mode&1)!==0,o){case"dialog":be("cancel",u),be("close",u);break;case"iframe":case"object":case"embed":be("load",u);break;case"video":case"audio":for(h=0;h<wo.length;h++)be(wo[h],u);break;case"source":be("error",u);break;case"img":case"image":case"link":be("error",u),be("load",u);break;case"details":be("toggle",u);break;case"input":Oi(u,p),be("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},be("invalid",u);break;case"textarea":Mi(u,p),be("invalid",u)}Zs(o,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&Ma(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Ma(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&be("scroll",u)}switch(o){case"input":Qn(u),la(u,p,!0);break;case"textarea":Qn(u),Ks(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Fa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[Un]=r,t[So]=u,Od(t,r,!1,!1),r.stateNode=t;e:{switch(y=eo(o,u),o){case"dialog":be("cancel",t),be("close",t),h=u;break;case"iframe":case"object":case"embed":be("load",t),h=u;break;case"video":case"audio":for(h=0;h<wo.length;h++)be(wo[h],t);h=u;break;case"source":be("error",t),h=u;break;case"img":case"image":case"link":be("error",t),be("load",t),h=u;break;case"details":be("toggle",t),h=u;break;case"input":Oi(t,u),h=Xr(t,u),be("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),be("invalid",t);break;case"textarea":Mi(t,u),h=Ws(t,u),be("invalid",t);break;default:h=u}Zs(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?Xs(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Gs(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&mr(t,R):typeof R=="number"&&mr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&be("scroll",t):R!=null&&ye(t,p,R,y))}switch(o){case"input":Qn(t),la(t,u,!1);break;case"textarea":Qn(t),Ks(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Kn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Kn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Fa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)Md(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=_i(ko.current),_i(zn.current),qa(r)){if(u=r.stateNode,o=r.memoizedProps,u[Un]=r,(p=u.nodeValue!==o)&&(t=Jt,t!==null))switch(t.tag){case 3:Ma(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ma(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Un]=r,r.stateNode=u}return Vt(r),null;case 13:if($e(We),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Zt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)zf(),ms(),r.flags|=98560,p=!1;else if(p=qa(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Un]=r}else ms(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else Sn!==null&&(Pc(Sn),Sn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(We.current&1)!==0?ht===0&&(ht=3):Dc())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return vs(),yc(t,r),t===null&&To(r.stateNode.containerInfo),Vt(r),null;case 10:return Hu(r.type._context),Vt(r),null;case 17:return bt(r.type)&&za(),Vt(r),null;case 19:if($e(We),p=r.memoizedState,p===null)return Vt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)Oo(p,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=Ya(t),y!==null){for(r.flags|=128,Oo(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return je(We,We.current&1|2),r.child}t=t.sibling}p.tail!==null&&Be()>Is&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Ya(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Qe)return Vt(r),null}else 2*Be()-p.renderingStartTime>Is&&o!==1073741824&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Be(),r.sibling=null,o=We.current,je(We,u?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return Vc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(en&1073741824)!==0&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function t_(t,r){switch(zu(r),r.tag){case 1:return bt(r.type)&&za(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vs(),$e(jt),$e(Pt),Ju(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Yu(r),null;case 13:if($e(We),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return $e(We),null;case 4:return vs(),null;case 10:return Hu(r.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var sl=!1,Dt=!1,n_=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ws(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ye(t,r,u)}else o.current=null}function _c(t,r,o){try{o()}catch(u){Ye(t,r,u)}}var Fd=!1;function r_(t,r){if(Vu=Ir,t=mf(),Tu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,w=-1,R=-1,F=0,H=0,Q=t,q=null;t:for(;;){for(var Z;Q!==o||h!==0&&Q.nodeType!==3||(w=y+h),Q!==p||u!==0&&Q.nodeType!==3||(R=y+u),Q.nodeType===3&&(y+=Q.nodeValue.length),(Z=Q.firstChild)!==null;)q=Q,Q=Z;for(;;){if(Q===t)break t;if(q===o&&++F===h&&(w=y),q===p&&++H===u&&(R=y),(Z=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=Z}o=w===-1||R===-1?null:{start:w,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Du={focusedElem:t,selectionRange:o},Ir=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var re=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,et=re.memoizedState,L=r.stateNode,C=L.getSnapshotBeforeUpdate(r.elementType===r.type?se:An(r.type,se),et);L.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Ye(r,r.return,K)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return re=Fd,Fd=!1,re}function Lo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&_c(r,o,p)}h=h.next}while(h!==u)}}function ol(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function vc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Ud(t){var r=t.alternate;r!==null&&(t.alternate=null,Ud(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Un],delete r[So],delete r[Lu],delete r[zy],delete r[By])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zd(t){return t.tag===5||t.tag===3||t.tag===4}function Bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Fa));else if(u!==4&&(t=t.child,t!==null))for(Ec(t,r,o),t=t.sibling;t!==null;)Ec(t,r,o),t=t.sibling}function wc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(wc(t,r,o),t=t.sibling;t!==null;)wc(t,r,o),t=t.sibling}var wt=null,Rn=!1;function Nr(t,r,o){for(o=o.child;o!==null;)jd(t,r,o),o=o.sibling}function jd(t,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(oi,o)}catch{}switch(o.tag){case 5:Dt||ws(o,r);case 6:var u=wt,h=Rn;wt=null,Nr(t,r,o),wt=u,Rn=h,wt!==null&&(Rn?(t=wt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):wt.removeChild(o.stateNode));break;case 18:wt!==null&&(Rn?(t=wt,o=o.stateNode,t.nodeType===8?Ou(t.parentNode,o):t.nodeType===1&&Ou(t,o),wn(t)):Ou(wt,o.stateNode));break;case 4:u=wt,h=Rn,wt=o.stateNode.containerInfo,Rn=!0,Nr(t,r,o),wt=u,Rn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&_c(o,r,y),h=h.next}while(h!==u)}Nr(t,r,o);break;case 1:if(!Dt&&(ws(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){Ye(o,r,w)}Nr(t,r,o);break;case 21:Nr(t,r,o);break;case 22:o.mode&1?(Dt=(u=Dt)||o.memoizedState!==null,Nr(t,r,o),Dt=u):Nr(t,r,o);break;default:Nr(t,r,o)}}function bd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new n_),r.forEach(function(u){var h=f_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Cn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,y=r,w=y;e:for(;w!==null;){switch(w.tag){case 5:wt=w.stateNode,Rn=!1;break e;case 3:wt=w.stateNode.containerInfo,Rn=!0;break e;case 4:wt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(wt===null)throw Error(n(160));jd(p,y,h),wt=null,Rn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(F){Ye(h,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)$d(r,t),r=r.sibling}function $d(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(r,t),jn(t),u&4){try{Lo(3,t,t.return),ol(3,t)}catch(se){Ye(t,t.return,se)}try{Lo(5,t,t.return)}catch(se){Ye(t,t.return,se)}}break;case 1:Cn(r,t),jn(t),u&512&&o!==null&&ws(o,o.return);break;case 5:if(Cn(r,t),jn(t),u&512&&o!==null&&ws(o,o.return),t.flags&32){var h=t.stateNode;try{mr(h,"")}catch(se){Ye(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Hs(h,p),eo(w,y);var F=eo(w,p);for(y=0;y<R.length;y+=2){var H=R[y],Q=R[y+1];H==="style"?Xs(h,Q):H==="dangerouslySetInnerHTML"?Gs(h,Q):H==="children"?mr(h,Q):ye(h,H,Q,F)}switch(w){case"input":Qs(h,p);break;case"textarea":Fi(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Kn(h,!!p.multiple,Z,!1):q!==!!p.multiple&&(p.defaultValue!=null?Kn(h,!!p.multiple,p.defaultValue,!0):Kn(h,!!p.multiple,p.multiple?[]:"",!1))}h[So]=p}catch(se){Ye(t,t.return,se)}}break;case 6:if(Cn(r,t),jn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(se){Ye(t,t.return,se)}}break;case 3:if(Cn(r,t),jn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{wn(r.containerInfo)}catch(se){Ye(t,t.return,se)}break;case 4:Cn(r,t),jn(t);break;case 13:Cn(r,t),jn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Sc=Be())),u&4&&bd(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(F=Dt)||H,Cn(r,t),Dt=F):Cn(r,t),jn(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!H&&(t.mode&1)!==0)for(ne=t,H=t.child;H!==null;){for(Q=ne=H;ne!==null;){switch(q=ne,Z=q.child,q.tag){case 0:case 11:case 14:case 15:Lo(4,q,q.return);break;case 1:ws(q,q.return);var re=q.stateNode;if(typeof re.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(se){Ye(u,o,se)}}break;case 5:ws(q,q.return);break;case 22:if(q.memoizedState!==null){Qd(Q);continue}}Z!==null?(Z.return=q,ne=Z):Qd(Q)}H=H.sibling}e:for(H=null,Q=t;;){if(Q.tag===5){if(H===null){H=Q;try{h=Q.stateNode,F?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=Q.stateNode,R=Q.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Ys("display",y))}catch(se){Ye(t,t.return,se)}}}else if(Q.tag===6){if(H===null)try{Q.stateNode.nodeValue=F?"":Q.memoizedProps}catch(se){Ye(t,t.return,se)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;H===Q&&(H=null),Q=Q.return}H===Q&&(H=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Cn(r,t),jn(t),u&4&&bd(t);break;case 21:break;default:Cn(r,t),jn(t)}}function jn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(zd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(mr(h,""),u.flags&=-33);var p=Bd(t);wc(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Bd(t);Ec(t,w,y);break;default:throw Error(n(161))}}catch(R){Ye(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function i_(t,r,o){ne=t,qd(t)}function qd(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||sl;if(!y){var w=h.alternate,R=w!==null&&w.memoizedState!==null||Dt;w=sl;var F=Dt;if(sl=y,(Dt=R)&&!F)for(ne=h;ne!==null;)y=ne,R=y.child,y.tag===22&&y.memoizedState!==null?Wd(h):R!==null?(R.return=y,ne=R):Wd(h);for(;p!==null;)ne=p,qd(p),p=p.sibling;ne=h,sl=w,Dt=F}Hd(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ne=p):Hd(t)}}function Hd(t){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Dt||ol(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Dt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:An(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Qf(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Qf(r,y,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var H=F.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&wn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||r.flags&512&&vc(r)}catch(q){Ye(r,r.return,q)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Qd(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Wd(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ol(4,r)}catch(R){Ye(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Ye(r,h,R)}}var p=r.return;try{vc(r)}catch(R){Ye(r,p,R)}break;case 5:var y=r.return;try{vc(r)}catch(R){Ye(r,y,R)}}}catch(R){Ye(r,r.return,R)}if(r===t){ne=null;break}var w=r.sibling;if(w!==null){w.return=r.return,ne=w;break}ne=r.return}}var s_=Math.ceil,al=Se.ReactCurrentDispatcher,Tc=Se.ReactCurrentOwner,cn=Se.ReactCurrentBatchConfig,De=0,gt=null,it=null,Tt=0,en=0,Ts=Cr(0),ht=0,Mo=null,Ei=0,ll=0,Ic=0,Fo=null,qt=null,Sc=0,Is=1/0,ur=null,ul=!1,Ac=null,xr=null,cl=!1,Or=null,hl=0,Uo=0,Rc=null,fl=-1,dl=0;function Ut(){return(De&6)!==0?Be():fl!==-1?fl:fl=Be()}function Lr(t){return(t.mode&1)===0?1:(De&2)!==0&&Tt!==0?Tt&-Tt:by.transition!==null?(dl===0&&(dl=li()),dl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:ho(t.type)),t)}function Pn(t,r,o,u){if(50<Uo)throw Uo=0,Rc=null,Error(n(185));vr(t,o,u),((De&2)===0||t!==gt)&&(t===gt&&((De&2)===0&&(ll|=o),ht===4&&Mr(t,Tt)),Ht(t,u),o===1&&De===0&&(r.mode&1)===0&&(Is=Be()+500,ja&&kr()))}function Ht(t,r){var o=t.callbackNode;Xn(t,r);var u=ai(t,t===gt?Tt:0);if(u===0)o!==null&&oo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&oo(o),r===1)t.tag===0?jy(Gd.bind(null,t)):Of(Gd.bind(null,t)),Fy(function(){(De&6)===0&&kr()}),o=null;else{switch(wr(u)){case 1:o=si;break;case 4:o=gr;break;case 16:o=nn;break;case 536870912:o=da;break;default:o=nn}o=rp(o,Kd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Kd(t,r){if(fl=-1,dl=0,(De&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Ss()&&t.callbackNode!==o)return null;var u=ai(t,t===gt?Tt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=pl(t,u);else{r=u;var h=De;De|=2;var p=Xd();(gt!==t||Tt!==r)&&(ur=null,Is=Be()+500,Ti(t,r));do try{l_();break}catch(w){Yd(t,w)}while(!0);qu(),al.current=p,De=h,it!==null?r=0:(gt=null,Tt=0,r=ht)}if(r!==0){if(r===2&&(h=Gt(t),h!==0&&(u=h,r=Cc(t,h))),r===1)throw o=Mo,Ti(t,0),Mr(t,u),Ht(t,Be()),o;if(r===6)Mr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!o_(h)&&(r=pl(t,u),r===2&&(p=Gt(t),p!==0&&(u=p,r=Cc(t,p))),r===1))throw o=Mo,Ti(t,0),Mr(t,u),Ht(t,Be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ii(t,qt,ur);break;case 3:if(Mr(t,u),(u&130023424)===u&&(r=Sc+500-Be(),10<r)){if(ai(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ut(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=xu(Ii.bind(null,t,qt,ur),r);break}Ii(t,qt,ur);break;case 4:if(Mr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Lt(u);p=1<<y,y=r[y],y>h&&(h=y),u&=~p}if(u=h,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*s_(u/1960))-u,10<u){t.timeoutHandle=xu(Ii.bind(null,t,qt,ur),u);break}Ii(t,qt,ur);break;case 5:Ii(t,qt,ur);break;default:throw Error(n(329))}}}return Ht(t,Be()),t.callbackNode===o?Kd.bind(null,t):null}function Cc(t,r){var o=Fo;return t.current.memoizedState.isDehydrated&&(Ti(t,r).flags|=256),t=pl(t,r),t!==2&&(r=qt,qt=o,r!==null&&Pc(r)),t}function Pc(t){qt===null?qt=t:qt.push.apply(qt,t)}function o_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!In(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mr(t,r){for(r&=~Ic,r&=~ll,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Lt(r),u=1<<o;t[o]=-1,r&=~u}}function Gd(t){if((De&6)!==0)throw Error(n(327));Ss();var r=ai(t,0);if((r&1)===0)return Ht(t,Be()),null;var o=pl(t,r);if(t.tag!==0&&o===2){var u=Gt(t);u!==0&&(r=u,o=Cc(t,u))}if(o===1)throw o=Mo,Ti(t,0),Mr(t,r),Ht(t,Be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ii(t,qt,ur),Ht(t,Be()),null}function kc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(Is=Be()+500,ja&&kr())}}function wi(t){Or!==null&&Or.tag===0&&(De&6)===0&&Ss();var r=De;De|=1;var o=cn.transition,u=Ae;try{if(cn.transition=null,Ae=1,t)return t()}finally{Ae=u,cn.transition=o,De=r,(De&6)===0&&kr()}}function Vc(){en=Ts.current,$e(Ts)}function Ti(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,My(o)),it!==null)for(o=it.return;o!==null;){var u=o;switch(zu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&za();break;case 3:vs(),$e(jt),$e(Pt),Ju();break;case 5:Yu(u);break;case 4:vs();break;case 13:$e(We);break;case 19:$e(We);break;case 10:Hu(u.type._context);break;case 22:case 23:Vc()}o=o.return}if(gt=t,it=t=Fr(t.current,null),Tt=en=r,ht=0,Mo=null,Ic=ll=Ei=0,qt=Fo=null,yi!==null){for(r=0;r<yi.length;r++)if(o=yi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}o.pending=u}yi=null}return t}function Yd(t,r){do{var o=it;try{if(qu(),Xa.current=tl,Ja){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ja=!1}if(vi=0,mt=ct=Ke=null,Vo=!1,Do=0,Tc.current=null,o===null||o.return===null){ht=1,Mo=r,it=null;break}e:{var p=t,y=o.return,w=o,R=r;if(r=Tt,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=R,H=w,Q=H.tag;if((H.mode&1)===0&&(Q===0||Q===11||Q===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=wd(y);if(Z!==null){Z.flags&=-257,Td(Z,y,w,p,r),Z.mode&1&&Ed(p,F,r),r=Z,R=F;var re=r.updateQueue;if(re===null){var se=new Set;se.add(R),r.updateQueue=se}else re.add(R);break e}else{if((r&1)===0){Ed(p,F,r),Dc();break e}R=Error(n(426))}}else if(Qe&&w.mode&1){var et=wd(y);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Td(et,y,w,p,r),bu(Es(R,w));break e}}p=R=Es(R,w),ht!==4&&(ht=2),Fo===null?Fo=[p]:Fo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var L=_d(p,R,r);Hf(p,L);break e;case 1:w=R;var C=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(xr===null||!xr.has(M)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=vd(p,w,r);Hf(p,K);break e}}p=p.return}while(p!==null)}Zd(o)}catch(oe){r=oe,it===o&&o!==null&&(it=o=o.return);continue}break}while(!0)}function Xd(){var t=al.current;return al.current=tl,t===null?tl:t}function Dc(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||(Ei&268435455)===0&&(ll&268435455)===0||Mr(gt,Tt)}function pl(t,r){var o=De;De|=2;var u=Xd();(gt!==t||Tt!==r)&&(ur=null,Ti(t,r));do try{a_();break}catch(h){Yd(t,h)}while(!0);if(qu(),De=o,al.current=u,it!==null)throw Error(n(261));return gt=null,Tt=0,ht}function a_(){for(;it!==null;)Jd(it)}function l_(){for(;it!==null&&!ha();)Jd(it)}function Jd(t){var r=np(t.alternate,t,en);t.memoizedProps=t.pendingProps,r===null?Zd(t):it=r,Tc.current=null}function Zd(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=e_(o,r,en),o!==null){it=o;return}}else{if(o=t_(o,r),o!==null){o.flags&=32767,it=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,it=null;return}}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ht===0&&(ht=5)}function Ii(t,r,o){var u=Ae,h=cn.transition;try{cn.transition=null,Ae=1,u_(t,r,o,u)}finally{cn.transition=h,Ae=u}return null}function u_(t,r,o,u){do Ss();while(Or!==null);if((De&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===gt&&(it=gt=null,Tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||cl||(cl=!0,rp(nn,function(){return Ss(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=cn.transition,cn.transition=null;var y=Ae;Ae=1;var w=De;De|=4,Tc.current=null,r_(t,o),$d(o,t),ky(Du),Ir=!!Vu,Du=Vu=null,t.current=o,i_(o),pu(),De=w,Ae=y,cn.transition=p}else t.current=o;if(cl&&(cl=!1,Or=t,hl=h),p=t.pendingLanes,p===0&&(xr=null),pa(o.stateNode),Ht(t,Be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(ul)throw ul=!1,t=Ac,Ac=null,t;return(hl&1)!==0&&t.tag!==0&&Ss(),p=t.pendingLanes,(p&1)!==0?t===Rc?Uo++:(Uo=0,Rc=t):Uo=0,kr(),null}function Ss(){if(Or!==null){var t=wr(hl),r=cn.transition,o=Ae;try{if(cn.transition=null,Ae=16>t?16:t,Or===null)var u=!1;else{if(t=Or,Or=null,hl=0,(De&6)!==0)throw Error(n(331));var h=De;for(De|=4,ne=t.current;ne!==null;){var p=ne,y=p.child;if((ne.flags&16)!==0){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var F=w[R];for(ne=F;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:Lo(8,H,p)}var Q=H.child;if(Q!==null)Q.return=H,ne=Q;else for(;ne!==null;){H=ne;var q=H.sibling,Z=H.return;if(Ud(H),H===F){ne=null;break}if(q!==null){q.return=Z,ne=q;break}ne=Z}}}var re=p.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var et=se.sibling;se.sibling=null,se=et}while(se!==null)}}ne=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,ne=y;else e:for(;ne!==null;){if(p=ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Lo(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,ne=L;break e}ne=p.return}}var C=t.current;for(ne=C;ne!==null;){y=ne;var M=y.child;if((y.subtreeFlags&2064)!==0&&M!==null)M.return=y,ne=M;else e:for(y=C;ne!==null;){if(w=ne,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ol(9,w)}}catch(oe){Ye(w,w.return,oe)}if(w===y){ne=null;break e}var K=w.sibling;if(K!==null){K.return=w.return,ne=K;break e}ne=w.return}}if(De=h,kr(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(oi,t)}catch{}u=!0}return u}finally{Ae=o,cn.transition=r}}return!1}function ep(t,r,o){r=Es(o,r),r=_d(t,r,1),t=Dr(t,r,1),r=Ut(),t!==null&&(vr(t,1,r),Ht(t,r))}function Ye(t,r,o){if(t.tag===3)ep(t,t,o);else for(;r!==null;){if(r.tag===3){ep(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xr===null||!xr.has(u))){t=Es(o,t),t=vd(r,t,1),r=Dr(r,t,1),t=Ut(),r!==null&&(vr(r,1,t),Ht(r,t));break}}r=r.return}}function c_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Ut(),t.pingedLanes|=t.suspendedLanes&o,gt===t&&(Tt&o)===o&&(ht===4||ht===3&&(Tt&130023424)===Tt&&500>Be()-Sc?Ti(t,0):Ic|=o),Ht(t,r)}function tp(t,r){r===0&&((t.mode&1)===0?r=1:(r=Wi,Wi<<=1,(Wi&130023424)===0&&(Wi=4194304)));var o=Ut();t=or(t,r),t!==null&&(vr(t,r,o),Ht(t,o))}function h_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),tp(t,o)}function f_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),tp(t,o)}var np;np=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||jt.current)$t=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return $t=!1,Zy(t,r,o);$t=(t.flags&131072)!==0}else $t=!1,Qe&&(r.flags&1048576)!==0&&Lf(r,$a,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;il(t,r),t=r.pendingProps;var h=fs(r,Pt.current);_s(r,o),h=tc(null,r,u,t,h,o);var p=nc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,bt(u)?(p=!0,Ba(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ku(r),h.updater=nl,r.stateNode=h,h._reactInternals=r,lc(r,u,t,o),r=fc(null,r,u,!0,p,o)):(r.tag=0,Qe&&p&&Uu(r),Ft(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(il(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=p_(u),t=An(u,t),h){case 0:r=hc(null,r,u,t,o);break e;case 1:r=Pd(null,r,u,t,o);break e;case 11:r=Id(null,r,u,t,o);break e;case 14:r=Sd(null,r,u,An(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:An(u,h),hc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:An(u,h),Pd(t,r,u,h,o);case 3:e:{if(kd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,qf(t,r),Ga(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Es(Error(n(423)),r),r=Vd(t,r,u,o,h);break e}else if(u!==h){h=Es(Error(n(424)),r),r=Vd(t,r,u,o,h);break e}else for(Zt=Rr(r.stateNode.containerInfo.firstChild),Jt=r,Qe=!0,Sn=null,o=bf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ms(),u===h){r=lr(t,r,o);break e}Ft(t,r,u,o)}r=r.child}return r;case 5:return Wf(r),t===null&&ju(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,Nu(u,h)?y=null:p!==null&&Nu(u,p)&&(r.flags|=32),Cd(t,r),Ft(t,r,y,o),r.child;case 6:return t===null&&ju(r),null;case 13:return Dd(t,r,o);case 4:return Gu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=gs(r,null,u,o):Ft(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:An(u,h),Id(t,r,u,h,o);case 7:return Ft(t,r,r.pendingProps,o),r.child;case 8:return Ft(t,r,r.pendingProps.children,o),r.child;case 12:return Ft(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,y=h.value,je(Qa,u._currentValue),u._currentValue=y,p!==null)if(In(p.value,y)){if(p.children===h.children&&!jt.current){r=lr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=ar(-1,o&-o),R.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var H=F.pending;H===null?R.next=R:(R.next=H.next,H.next=R),F.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),Qu(p.return,o,r),w.lanes|=o;break}R=R.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,w=y.alternate,w!==null&&(w.lanes|=o),Qu(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Ft(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,_s(r,o),h=ln(h),u=u(h),r.flags|=1,Ft(t,r,u,o),r.child;case 14:return u=r.type,h=An(u,r.pendingProps),h=An(u.type,h),Sd(t,r,u,h,o);case 15:return Ad(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:An(u,h),il(t,r),r.tag=1,bt(u)?(t=!0,Ba(r)):t=!1,_s(r,o),gd(r,u,h),lc(r,u,h,o),fc(null,r,u,!0,t,o);case 19:return xd(t,r,o);case 22:return Rd(t,r,o)}throw Error(n(156,r.tag))};function rp(t,r){return Hi(t,r)}function d_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,r,o,u){return new d_(t,r,o,u)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p_(t){if(typeof t=="function")return Nc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===Rt)return 14}return 2}function Fr(t,r){var o=t.alternate;return o===null?(o=hn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ml(t,r,o,u,h,p){var y=2;if(u=t,typeof t=="function")Nc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case V:return Si(o.children,h,p,r);case T:y=8,h|=8;break;case A:return t=hn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=hn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Je:return t=hn(19,o,r,h),t.elementType=Je,t.lanes=p,t;case Fe:return gl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:y=10;break e;case D:y=9;break e;case x:y=11;break e;case Rt:y=14;break e;case Ct:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=hn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Si(t,r,o,u){return t=hn(7,t,u,r),t.lanes=o,t}function gl(t,r,o,u){return t=hn(22,t,u,r),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function xc(t,r,o){return t=hn(6,t,null,r),t.lanes=o,t}function Oc(t,r,o){return r=hn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function m_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_r(0),this.expirationTimes=_r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Lc(t,r,o,u,h,p,y,w,R){return t=new m_(t,r,o,w,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=hn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(p),t}function g_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ve,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function ip(t){if(!t)return Pr;t=t._reactInternals;e:{if(gn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(bt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(bt(o))return Nf(t,o,r)}return r}function sp(t,r,o,u,h,p,y,w,R){return t=Lc(o,u,!0,t,h,p,y,w,R),t.context=ip(null),o=t.current,u=Ut(),h=Lr(o),p=ar(u,h),p.callback=r??null,Dr(o,p,h),t.current.lanes=h,vr(t,h,u),Ht(t,u),t}function yl(t,r,o,u){var h=r.current,p=Ut(),y=Lr(h);return o=ip(o),r.context===null?r.context=o:r.pendingContext=o,r=ar(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Dr(h,r,y),t!==null&&(Pn(t,h,y,p),Ka(t,h,y)),y}function _l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function op(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Mc(t,r){op(t,r),(t=t.alternate)&&op(t,r)}function y_(){return null}var ap=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fc(t){this._internalRoot=t}vl.prototype.render=Fc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));yl(t,r,null,null)},vl.prototype.unmount=Fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;wi(function(){yl(null,t,null,null)}),r[nr]=null}};function vl(t){this._internalRoot=t}vl.prototype.unstable_scheduleHydration=function(t){if(t){var r=va();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&Ta(t)}};function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lp(){}function __(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var F=_l(y);p.call(F)}}var y=sp(r,u,t,0,null,!1,!1,"",lp);return t._reactRootContainer=y,t[nr]=y.current,To(t.nodeType===8?t.parentNode:t),wi(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=_l(R);w.call(F)}}var R=Lc(t,0,!1,null,null,!1,!1,"",lp);return t._reactRootContainer=R,t[nr]=R.current,To(t.nodeType===8?t.parentNode:t),wi(function(){yl(r,R,o,u)}),R}function wl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var w=h;h=function(){var R=_l(y);w.call(R)}}yl(r,y,t,h)}else y=__(o,r,t,h,u);return _l(y)}ya=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=yr(r.pendingLanes);o!==0&&(Er(r,o|1),Ht(r,Be()),(De&6)===0&&(Is=Be()+500,kr()))}break;case 13:wi(function(){var u=or(t,1);if(u!==null){var h=Ut();Pn(u,t,1,h)}}),Mc(t,1)}},Ki=function(t){if(t.tag===13){var r=or(t,134217728);if(r!==null){var o=Ut();Pn(r,t,134217728,o)}Mc(t,134217728)}},_a=function(t){if(t.tag===13){var r=Lr(t),o=or(t,r);if(o!==null){var u=Ut();Pn(o,t,r,u)}Mc(t,r)}},va=function(){return Ae},Ea=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},zi=function(t,r,o){switch(r){case"input":if(Qs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ua(u);if(!h)throw Error(n(90));xi(u),Qs(u,h)}}}break;case"textarea":Fi(t,o);break;case"select":r=o.value,r!=null&&Kn(t,!!o.multiple,r,!1)}},ti=kc,no=wi;var v_={usingClientEntryPoint:!1,Events:[Ao,cs,Ua,Nn,to,kc]},zo={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E_={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=so(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||y_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{oi=Tl.inject(E_),Kt=Tl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uc(r))throw Error(n(200));return g_(t,r,null,o)},Qt.createRoot=function(t,r){if(!Uc(t))throw Error(n(299));var o=!1,u="",h=ap;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Lc(t,1,!1,null,null,o,!1,u,h),t[nr]=r.current,To(t.nodeType===8?t.parentNode:t),new Fc(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=so(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return wi(t)},Qt.hydrate=function(t,r,o){if(!El(r))throw Error(n(200));return wl(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!Uc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",y=ap;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=sp(r,null,t,1,o??null,h,!1,p,y),t[nr]=r.current,To(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new vl(r)},Qt.render=function(t,r,o){if(!El(r))throw Error(n(200));return wl(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!El(t))throw Error(n(40));return t._reactRootContainer?(wi(function(){wl(null,null,t,!1,function(){t._reactRootContainer=null,t[nr]=null})}),!0):!1},Qt.unstable_batchedUpdates=kc,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!El(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return wl(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var gp;function k_(){if(gp)return jc.exports;gp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jc.exports=P_(),jc.exports}var yp;function V_(){if(yp)return Il;yp=1;var i=k_();return Il.createRoot=i.createRoot,Il.hydrateRoot=i.hydrateRoot,Il}var D_=V_();const N_=Vm(D_),x_=()=>{};var _p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},O_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],g=i[n++],_=((a&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Nm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,g=f?i[a+1]:0,_=a+2<i.length,E=_?i[a+2]:0,I=c>>2,k=(c&3)<<4|g>>4;let U=(g&15)<<2|E>>6,$=E&63;_||($=64,f||(U=64)),s.push(n[I],n[k],n[U],n[$])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Dm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):O_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],g=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const k=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||g==null||E==null||k==null)throw new L_;const U=c<<2|g>>4;if(s.push(U),E!==64){const $=g<<4&240|E>>2;if(s.push($),k!==64){const Y=E<<6&192|k;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class L_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M_=function(i){const e=Dm(i);return Nm.encodeByteArray(e,!0)},Ml=function(i){return M_(i).replace(/\./g,"")},F_=function(i){try{return Nm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=()=>U_().__FIREBASE_DEFAULTS__,B_=()=>{if(typeof process>"u"||typeof _p>"u")return;const i=_p.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},j_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&F_(i[1]);return e&&JSON.parse(e)},Th=()=>{try{return x_()||z_()||B_()||j_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},b_=i=>{var e,n;return(n=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},$_=i=>{const e=b_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xm=()=>{var i;return(i=Th())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ml(JSON.stringify(n)),Ml(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W_(){var i;const e=(i=Th())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K_(){return!W_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G_(){try{return typeof indexedDB=="object"}catch{return!1}}function Y_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="FirebaseError";class zs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=X_,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Om.prototype.create)}}class Om{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?J_(c,s):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new zs(a,g,s)}}function J_(i,e){return i.replace(Z_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Z_=/\{\$([^}]+)}/g;function Fl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(vp(c)&&vp(f)){if(!Fl(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function vp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(i){return i&&i._delegate?i._delegate:i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(i){return i.endsWith(".cloudworkstations.dev")}async function ev(i){return(await fetch(i,{credentials:"include"})).ok}class Go{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new q_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rv(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nv(i){return i===Ai?void 0:i}function rv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const sv={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},ov=ke.INFO,av={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},lv=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=av[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=ov,this._logHandler=lv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const uv=(i,e)=>e.some(n=>i instanceof n);let Ep,wp;function cv(){return Ep||(Ep=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hv(){return wp||(wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fm=new WeakMap,Zc=new WeakMap,Um=new WeakMap,qc=new WeakMap,Ih=new WeakMap;function fv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Br(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Fm.set(n,i)}).catch(()=>{}),Ih.set(e,i),e}function dv(i){if(Zc.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Zc.set(i,e)}let eh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Zc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Um.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function pv(i){eh=i(eh)}function mv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Hc(this),e,...n);return Um.set(s,e.sort?e.sort():[e]),Br(s)}:hv().includes(i)?function(...e){return i.apply(Hc(this),e),Br(Fm.get(this))}:function(...e){return Br(i.apply(Hc(this),e))}}function gv(i){return typeof i=="function"?mv(i):(i instanceof IDBTransaction&&dv(i),uv(i,cv())?new Proxy(i,eh):i)}function Br(i){if(i instanceof IDBRequest)return fv(i);if(qc.has(i))return qc.get(i);const e=gv(i);return e!==i&&(qc.set(i,e),Ih.set(e,i)),e}const Hc=i=>Ih.get(i);function yv(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),g=Br(f);return s&&f.addEventListener("upgradeneeded",_=>{s(Br(f.result),_.oldVersion,_.newVersion,Br(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const _v=["get","getKey","getAll","getAllKeys","count"],vv=["put","add","delete","clear"],Qc=new Map;function Tp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qc.get(e))return Qc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=vv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||_v.includes(n)))return;const c=async function(f,...g){const _=this.transaction(f,a?"readwrite":"readonly");let E=_.store;return s&&(E=E.index(g.shift())),(await Promise.all([E[n](...g),a&&_.done]))[0]};return Qc.set(e,c),c}pv(i=>({...i,get:(e,n,s)=>Tp(e,n)||i.get(e,n,s),has:(e,n)=>!!Tp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const th="@firebase/app",Ip="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Mm("@firebase/app"),Tv="@firebase/app-compat",Iv="@firebase/analytics-compat",Sv="@firebase/analytics",Av="@firebase/app-check-compat",Rv="@firebase/app-check",Cv="@firebase/auth",Pv="@firebase/auth-compat",kv="@firebase/database",Vv="@firebase/data-connect",Dv="@firebase/database-compat",Nv="@firebase/functions",xv="@firebase/functions-compat",Ov="@firebase/installations",Lv="@firebase/installations-compat",Mv="@firebase/messaging",Fv="@firebase/messaging-compat",Uv="@firebase/performance",zv="@firebase/performance-compat",Bv="@firebase/remote-config",jv="@firebase/remote-config-compat",bv="@firebase/storage",$v="@firebase/storage-compat",qv="@firebase/firestore",Hv="@firebase/vertexai",Qv="@firebase/firestore-compat",Wv="firebase",Kv="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="[DEFAULT]",Gv={[th]:"fire-core",[Tv]:"fire-core-compat",[Sv]:"fire-analytics",[Iv]:"fire-analytics-compat",[Rv]:"fire-app-check",[Av]:"fire-app-check-compat",[Cv]:"fire-auth",[Pv]:"fire-auth-compat",[kv]:"fire-rtdb",[Vv]:"fire-data-connect",[Dv]:"fire-rtdb-compat",[Nv]:"fire-fn",[xv]:"fire-fn-compat",[Ov]:"fire-iid",[Lv]:"fire-iid-compat",[Mv]:"fire-fcm",[Fv]:"fire-fcm-compat",[Uv]:"fire-perf",[zv]:"fire-perf-compat",[Bv]:"fire-rc",[jv]:"fire-rc-compat",[bv]:"fire-gcs",[$v]:"fire-gcs-compat",[qv]:"fire-fst",[Qv]:"fire-fst-compat",[Hv]:"fire-vertex","fire-js":"fire-js",[Wv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new Map,Yv=new Map,rh=new Map;function Sp(i,e){try{i.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function zl(i){const e=i.name;if(rh.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;rh.set(e,i);for(const n of Ul.values())Sp(n,i);for(const n of Yv.values())Sp(n,i);return!0}function Xv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Jv(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Om("app","Firebase",Zv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=Kv;function zm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:nh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw jr.create("bad-app-name",{appName:String(a)});if(n||(n=xm()),!n)throw jr.create("no-options");const c=Ul.get(a);if(c){if(Fl(n,c.options)&&Fl(s,c.config))return c;throw jr.create("duplicate-app",{appName:a})}const f=new iv(a);for(const _ of rh.values())f.addComponent(_);const g=new eE(n,s,f);return Ul.set(a,g),g}function nE(i=nh){const e=Ul.get(i);if(!e&&i===nh&&xm())return zm();if(!e)throw jr.create("no-app",{appName:i});return e}function ks(i,e,n){var s;let a=(s=Gv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${a}" with version "${e}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(g.join(" "));return}zl(new Go(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firebase-heartbeat-database",iE=1,Yo="firebase-heartbeat-store";let Wc=null;function Bm(){return Wc||(Wc=yv(rE,iE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Yo)}catch(n){console.warn(n)}}}}).catch(i=>{throw jr.create("idb-open",{originalErrorMessage:i.message})})),Wc}async function sE(i){try{const n=(await Bm()).transaction(Yo),s=await n.objectStore(Yo).get(jm(i));return await n.done,s}catch(e){if(e instanceof zs)hr.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}}async function Ap(i,e){try{const s=(await Bm()).transaction(Yo,"readwrite");await s.objectStore(Yo).put(e,jm(i)),await s.done}catch(n){if(n instanceof zs)hr.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(s.message)}}}function jm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=1024,aE=30;class lE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Rp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>aE){const f=hE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rp(),{heartbeatsToSend:s,unsentEntries:a}=uE(this._heartbeatsCache.heartbeats),c=Ml(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return hr.warn(n),""}}}function Rp(){return new Date().toISOString().substring(0,10)}function uE(i,e=oE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Cp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Cp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class cE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G_()?Y_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Cp(i){return Ml(JSON.stringify({version:2,heartbeats:i})).length}function hE(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(i){zl(new Go("platform-logger",e=>new Ev(e),"PRIVATE")),zl(new Go("heartbeat",e=>new lE(e),"PRIVATE")),ks(th,Ip,i),ks(th,Ip,"esm2017"),ks("fire-js","")}fE("");var dE="firebase",pE="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(dE,pE,"app");var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,bm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,T){function A(){}A.prototype=T.prototype,V.D=T.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(P,D,x){for(var S=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)S[Je-2]=arguments[Je];return T.prototype[D].apply(P,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)P[D]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(D=0;16>D;++D)P[D]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=V.g[0],A=V.g[1],D=V.g[2];var x=V.g[3],S=T+(x^A&(D^x))+P[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=x+(D^T&(A^D))+P[1]+3905402710&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(A^x&(T^A))+P[2]+606105819&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(T^D&(x^T))+P[3]+3250441966&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(x^A&(D^x))+P[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(D^T&(A^D))+P[5]+1200080426&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(A^x&(T^A))+P[6]+2821735955&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(T^D&(x^T))+P[7]+4249261313&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(x^A&(D^x))+P[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(D^T&(A^D))+P[9]+2336552879&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(A^x&(T^A))+P[10]+4294925233&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(T^D&(x^T))+P[11]+2304563134&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(x^A&(D^x))+P[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(D^T&(A^D))+P[13]+4254626195&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(A^x&(T^A))+P[14]+2792965006&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(T^D&(x^T))+P[15]+1236535329&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(D^x&(A^D))+P[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(T^A))+P[6]+3225465664&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(x^T))+P[11]+643717713&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(D^x))+P[0]+3921069994&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(A^D))+P[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(T^A))+P[10]+38016083&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(x^T))+P[15]+3634488961&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(D^x))+P[4]+3889429448&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(A^D))+P[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(T^A))+P[14]+3275163606&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(x^T))+P[3]+4107603335&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(D^x))+P[8]+1163531501&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(A^D))+P[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(T^A))+P[2]+4243563512&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(x^T))+P[7]+1735328473&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(D^x))+P[12]+2368359562&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(A^D^x)+P[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^D)+P[8]+2272392833&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^A)+P[11]+1839030562&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^T)+P[14]+4259657740&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^x)+P[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^D)+P[4]+1272893353&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^A)+P[7]+4139469664&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^T)+P[10]+3200236656&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^x)+P[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^D)+P[0]+3936430074&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^A)+P[3]+3572445317&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^T)+P[6]+76029189&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^x)+P[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^D)+P[12]+3873151461&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^A)+P[15]+530742520&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^T)+P[2]+3299628645&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(D^(A|~x))+P[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~D))+P[7]+1126891415&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~A))+P[14]+2878612391&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~T))+P[5]+4237533241&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~x))+P[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~D))+P[3]+2399980690&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~A))+P[10]+4293915773&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~T))+P[1]+2240044497&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~x))+P[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~D))+P[15]+4264355552&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~A))+P[6]+2734768916&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~T))+P[13]+1309151649&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~x))+P[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~D))+P[11]+3174756917&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~A))+P[2]+718787259&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~T))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+T&4294967295,V.g[1]=V.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,T){T===void 0&&(T=V.length);for(var A=T-this.blockSize,P=this.B,D=this.h,x=0;x<T;){if(D==0)for(;x<=A;)a(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<T;)if(P[D++]=V.charCodeAt(x++),D==this.blockSize){a(this,P),D=0;break}}else for(;x<T;)if(P[D++]=V[x++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var T=1;T<V.length-8;++T)V[T]=0;var A=8*this.o;for(T=V.length-8;T<V.length;++T)V[T]=A&255,A/=256;for(this.u(V),V=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)V[A++]=this.g[T]>>>P&255;return V};function c(V,T){var A=g;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=T(V)}function f(V,T){this.h=T;for(var A=[],P=!0,D=V.length-1;0<=D;D--){var x=V[D]|0;P&&x==T||(A[D]=x,P=!1)}this.g=A}var g={};function _(V){return-128<=V&&128>V?c(V,function(T){return new f([T|0],0>T?-1:0)}):new f([V|0],0>V?-1:0)}function E(V){if(isNaN(V)||!isFinite(V))return k;if(0>V)return W(E(-V));for(var T=[],A=1,P=0;V>=A;P++)T[P]=V/A|0,A*=4294967296;return new f(T,0)}function I(V,T){if(V.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(V.charAt(0)=="-")return W(I(V.substring(1),T));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(T,8)),P=k,D=0;D<V.length;D+=8){var x=Math.min(8,V.length-D),S=parseInt(V.substring(D,D+x),T);8>x?(x=E(Math.pow(T,x)),P=P.j(x).add(E(S))):(P=P.j(A),P=P.add(E(S)))}return P}var k=_(0),U=_(1),$=_(16777216);i=f.prototype,i.m=function(){if(X(this))return-W(this).m();for(var V=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);V+=(0<=P?P:4294967296+P)*T,T*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Y(this))return"0";if(X(this))return"-"+W(this).toString(V);for(var T=E(Math.pow(V,6)),A=this,P="";;){var D=Se(A,T).g;A=Te(A,D.j(T));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=D,Y(A))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Y(V){if(V.h!=0)return!1;for(var T=0;T<V.g.length;T++)if(V.g[T]!=0)return!1;return!0}function X(V){return V.h==-1}i.l=function(V){return V=Te(this,V),X(V)?-1:Y(V)?0:1};function W(V){for(var T=V.g.length,A=[],P=0;P<T;P++)A[P]=~V.g[P];return new f(A,~V.h).add(U)}i.abs=function(){return X(this)?W(this):this},i.add=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],P=0,D=0;D<=T;D++){var x=P+(this.i(D)&65535)+(V.i(D)&65535),S=(x>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);P=S>>>16,x&=65535,S&=65535,A[D]=S<<16|x}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Te(V,T){return V.add(W(T))}i.j=function(V){if(Y(this)||Y(V))return k;if(X(this))return X(V)?W(this).j(W(V)):W(W(this).j(V));if(X(V))return W(this.j(W(V)));if(0>this.l($)&&0>V.l($))return E(this.m()*V.m());for(var T=this.g.length+V.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<V.g.length;D++){var x=this.i(P)>>>16,S=this.i(P)&65535,Je=V.i(D)>>>16,Rt=V.i(D)&65535;A[2*P+2*D]+=S*Rt,ge(A,2*P+2*D),A[2*P+2*D+1]+=x*Rt,ge(A,2*P+2*D+1),A[2*P+2*D+1]+=S*Je,ge(A,2*P+2*D+1),A[2*P+2*D+2]+=x*Je,ge(A,2*P+2*D+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new f(A,0)};function ge(V,T){for(;(V[T]&65535)!=V[T];)V[T+1]+=V[T]>>>16,V[T]&=65535,T++}function ye(V,T){this.g=V,this.h=T}function Se(V,T){if(Y(T))throw Error("division by zero");if(Y(V))return new ye(k,k);if(X(V))return T=Se(W(V),T),new ye(W(T.g),W(T.h));if(X(T))return T=Se(V,W(T)),new ye(W(T.g),T.h);if(30<V.g.length){if(X(V)||X(T))throw Error("slowDivide_ only works with positive integers.");for(var A=U,P=T;0>=P.l(V);)A=Xe(A),P=Xe(P);var D=Ve(A,1),x=Ve(P,1);for(P=Ve(P,2),A=Ve(A,2);!Y(P);){var S=x.add(P);0>=S.l(V)&&(D=D.add(A),x=S),P=Ve(P,1),A=Ve(A,1)}return T=Te(V,D.j(T)),new ye(D,T)}for(D=k;0<=V.l(T);){for(A=Math.max(1,Math.floor(V.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=E(A),S=x.j(T);X(S)||0<S.l(V);)A-=P,x=E(A),S=x.j(T);Y(x)&&(x=U),D=D.add(x),V=Te(V,S)}return new ye(D,V)}i.A=function(V){return Se(this,V).h},i.and=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&V.i(P);return new f(A,this.h&V.h)},i.or=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|V.i(P);return new f(A,this.h|V.h)},i.xor=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^V.i(P);return new f(A,this.h^V.h)};function Xe(V){for(var T=V.g.length+1,A=[],P=0;P<T;P++)A[P]=V.i(P)<<1|V.i(P-1)>>>31;return new f(A,V.h)}function Ve(V,T){var A=T>>5;T%=32;for(var P=V.g.length-A,D=[],x=0;x<P;x++)D[x]=0<T?V.i(x+A)>>>T|V.i(x+A+1)<<32-T:V.i(x+A);return new f(D,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=I,br=f}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $m,jo,qm,Vl,ih,Hm,Qm,Wm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sl=="object"&&Sl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var m=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var O=l[v];if(!(O in m))break e;m=m[O]}l=l[l.length-1],v=m[l],d=d(v),d!=v&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var m=0,v=!1,O={next:function(){if(!v&&m<l.length){var z=m++;return{value:d(z,l[z]),done:!1}}return v=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function _(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function I(l,d,m){return l.call.apply(l.bind,arguments)}function k(l,d,m){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,v),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function U(l,d,m){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:k,U.apply(null,arguments)}function $(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function Y(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(v,O,z){for(var G=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)G[Me-2]=arguments[Me];return d.prototype[O].apply(v,G)}}function X(l){const d=l.length;if(0<d){const m=Array(d);for(let v=0;v<d;v++)m[v]=l[v];return m}return[]}function W(l,d){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(_(v)){const O=l.length||0,z=v.length||0;l.length=O+z;for(let G=0;G<z;G++)l[O+G]=v[G]}else l.push(v)}}class Te{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ge(l){return/^[\s\xa0]*$/.test(l)}function ye(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var Xe=ye().indexOf("Gecko")!=-1&&!(ye().toLowerCase().indexOf("webkit")!=-1&&ye().indexOf("Edge")==-1)&&!(ye().indexOf("Trident")!=-1||ye().indexOf("MSIE")!=-1)&&ye().indexOf("Edge")==-1;function Ve(l,d,m){for(const v in l)d.call(m,l[v],v,l)}function V(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function T(l){const d={};for(const m in l)d[m]=l[m];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let m,v;for(let O=1;O<arguments.length;O++){v=arguments[O];for(m in v)l[m]=v[m];for(let z=0;z<A.length;z++)m=A[z],Object.prototype.hasOwnProperty.call(v,m)&&(l[m]=v[m])}}function D(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function x(l){g.setTimeout(()=>{throw l},0)}function S(){var l=ue;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Je{constructor(){this.h=this.g=null}add(d,m){const v=Rt.get();v.set(d,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Rt=new Te(()=>new Ct,l=>l.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,J=!1,ue=new Je,ee=()=>{const l=g.Promise.resolve(void 0);Fe=()=>{l.then(N)}};var N=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){x(m)}var d=Rt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,d),g.removeEventListener("test",m,d)}catch{}return l}();function Ee(l,d){if(ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Xe){e:{try{Se(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}Y(Ee,ae);var Re={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function ze(l,d,m,v,O){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!v,this.ha=O,this.key=++Oe,this.da=this.fa=!1}function dt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qn(l){this.src=l,this.g={},this.h=0}Qn.prototype.add=function(l,d,m,v,O){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var G=pr(l,d,v,O);return-1<G?(d=l[G],m||(d.fa=!1)):(d=new ze(d,this.src,z,!!v,O),d.fa=m,l.push(d)),d};function xi(l,d){var m=d.type;if(m in l.g){var v=l.g[m],O=Array.prototype.indexOf.call(v,d,void 0),z;(z=0<=O)&&Array.prototype.splice.call(v,O,1),z&&(dt(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function pr(l,d,m,v){for(var O=0;O<l.length;++O){var z=l[O];if(!z.da&&z.listener==d&&z.capture==!!m&&z.ha==v)return O}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),Oi={};function Hs(l,d,m,v,O){if(Array.isArray(d)){for(var z=0;z<d.length;z++)Hs(l,d[z],m,v,O);return null}return m=Ks(m),l&&l[xe]?l.K(d,m,E(v)?!!v.capture:!1,O):Qs(l,d,m,!1,v,O)}function Qs(l,d,m,v,O,z){if(!d)throw Error("Invalid event type");var G=E(O)?!!O.capture:!!O,Me=Mi(l);if(Me||(l[Xr]=Me=new Qn(l)),m=Me.add(d,m,v,G,z),m.proxy)return m;if(v=la(),m.proxy=v,v.src=l,v.listener=m,l.addEventListener)_e||(O=G),O===void 0&&(O=!1),l.addEventListener(d.toString(),v,O);else if(l.attachEvent)l.attachEvent(Kn(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function la(){function l(m){return d.call(l.src,l.listener,m)}const d=Ws;return l}function Li(l,d,m,v,O){if(Array.isArray(d))for(var z=0;z<d.length;z++)Li(l,d[z],m,v,O);else v=E(v)?!!v.capture:!!v,m=Ks(m),l&&l[xe]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],m=pr(z,m,v,O),-1<m&&(dt(z[m]),Array.prototype.splice.call(z,m,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=Mi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=pr(d,m,v,O)),(m=-1<l?d[l]:null)&&Wn(m))}function Wn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[xe])xi(d.i,l);else{var m=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(m,v,l.capture):d.detachEvent?d.detachEvent(Kn(m),v):d.addListener&&d.removeListener&&d.removeListener(v),(m=Mi(d))?(xi(m,l),m.h==0&&(m.src=null,d[Xr]=null)):dt(l)}}}function Kn(l){return l in Oi?Oi[l]:Oi[l]="on"+l}function Ws(l,d){if(l.da)l=!0;else{d=new Ee(d,this);var m=l.listener,v=l.ha||l.src;l.fa&&Wn(l),l=m.call(v,d)}return l}function Mi(l){return l=l[Xr],l instanceof Qn?l:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(l){return typeof l=="function"?l:(l[Fi]||(l[Fi]=function(d){return l.handleEvent(d)}),l[Fi])}function at(){j.call(this),this.i=new Qn(this),this.M=this,this.F=null}Y(at,j),at.prototype[xe]=!0,at.prototype.removeEventListener=function(l,d,m,v){Li(this,l,d,m,v)};function lt(l,d){var m,v=l.F;if(v)for(m=[];v;v=v.F)m.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new ae(d,l);else if(d instanceof ae)d.target=d.target||l;else{var O=d;d=new ae(v,l),P(d,O)}if(O=!0,m)for(var z=m.length-1;0<=z;z--){var G=d.g=m[z];O=Gn(G,v,!0,d)&&O}if(G=d.g=l,O=Gn(G,v,!0,d)&&O,O=Gn(G,v,!1,d)&&O,m)for(z=0;z<m.length;z++)G=d.g=m[z],O=Gn(G,v,!1,d)&&O}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],v=0;v<m.length;v++)dt(m[v]);delete l.g[d],l.h--}}this.F=null},at.prototype.K=function(l,d,m,v){return this.i.add(String(l),d,!1,m,v)},at.prototype.L=function(l,d,m,v){return this.i.add(String(l),d,!0,m,v)};function Gn(l,d,m,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,z=0;z<d.length;++z){var G=d[z];if(G&&!G.da&&G.capture==m){var Me=G.listener,ut=G.ha||G.src;G.fa&&xi(l.i,G),O=Me.call(ut,v)!==!1&&O}}return O&&!v.defaultPrevented}function Gs(l,d,m){if(typeof l=="function")m&&(l=U(l,m));else if(l&&typeof l.handleEvent=="function")l=U(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:g.setTimeout(l,d||0)}function mr(l){l.g=Gs(()=>{l.g=null,l.i&&(l.i=!1,mr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Jr extends j{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(l){j.call(this),this.h=l,this.g={}}Y(Zr,j);var Ys=[];function Xs(l){Ve(l.g,function(d,m){this.g.hasOwnProperty(m)&&Wn(d)},l),l.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),Xs(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=g.JSON.stringify,Zs=g.JSON.parse,eo=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function ei(){}ei.prototype.h=null;function Ui(l){return l.h||(l.h=l.i())}function zi(){}var tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){ae.call(this,"d")}Y(Dn,ae);function Bi(){ae.call(this,"c")}Y(Bi,ae);var Nn={},to=null;function ti(){return to=to||new at}Nn.La="serverreachability";function no(l){ae.call(this,Nn.La,l)}Y(no,ae);function Yn(l){const d=ti();lt(d,new no(d))}Nn.STAT_EVENT="statevent";function ro(l,d){ae.call(this,Nn.STAT_EVENT,l),this.stat=d}Y(ro,ae);function Ze(l){const d=ti();lt(d,new ro(d,l))}Nn.Ma="timingevent";function ji(l,d){ae.call(this,Nn.Ma,l),this.size=d}Y(ji,ae);function pn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},d)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function ri(l,d,m,v,O,z){l.info(function(){if(l.g)if(z)for(var G="",Me=z.split("&"),ut=0;ut<Me.length;ut++){var Ce=Me[ut].split("=");if(1<Ce.length){var pt=Ce[0];Ce=Ce[1];var rt=pt.split("_");G=2<=rt.length&&rt[1]=="type"?G+(pt+"="+Ce+"&"):G+(pt+"=redacted&")}}else G=null;else G=z;return"XMLHTTP REQ ("+v+") [attempt "+O+"]: "+d+`
`+m+`
`+G})}function bi(l,d,m,v,O,z,G){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+O+"]: "+d+`
`+m+`
`+z+" "+G})}function mn(l,d,m,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+du(l,m)+(v?" "+v:"")})}function io(l,d){l.info(function(){return"TIMEOUT: "+d})}ni.prototype.info=function(){};function du(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var v=m[l];if(!(2>v.length)){var O=v[1];if(Array.isArray(O)&&!(1>O.length)){var z=O[0];if(z!="noop"&&z!="stop"&&z!="close")for(var G=1;G<O.length;G++)O[G]=""}}}}return Js(m)}catch{return d}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ua={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function ii(){}Y(ii,ei),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},gn=new ii;function yn(l,d,m,v){this.j=l,this.i=d,this.l=m,this.R=v||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ca}function ca(){this.i=null,this.g="",this.h=!1}var so={},qi={};function Hi(l,d,m){l.L=1,l.v=Er(Gt(d)),l.m=m,l.P=!0,oo(l,null)}function oo(l,d){l.F=Date.now(),Be(l),l.A=Gt(l.v);var m=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Tr(m.i,"t",v),l.C=0,m=l.j.J,l.h=new ca,l.g=Pa(l.j,m?d:null,!l.m),0<l.O&&(l.M=new Jr(U(l.Y,l,l.g),l.O)),d=l.U,m=l.g,v=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Ys[0]=O.toString()),O=Ys);for(var z=0;z<O.length;z++){var G=Hs(m,O[z],v||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Yn(),ri(l.i,l.u,l.A,l.l,l.R,l.m)}yn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Bt(l)==3?d.j():this.Y(l)},yn.prototype.Y=function(l){try{if(l==this.g)e:{const rt=Bt(this.g);var d=this.g.Ba();const sn=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||fo(this.g)))){this.J||rt!=4||d==7||(d==8||0>=sn?Yn(3):Yn(2)),si(this);var m=this.g.Z();this.X=m;t:if(ha(this)){var v=fo(this.g);l="";var O=v.length,z=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),gr(this);var G="";break t}this.h.i=new g.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(z&&d==O-1)});v.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,bi(this.i,this.u,this.A,this.l,this.R,rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,ut=this.g;if((Me=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(Me)){var Ce=Me;break t}}Ce=null}if(m=Ce)mn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ao(this,m);else{this.o=!1,this.s=3,Ze(12),nn(this),gr(this);break e}}if(this.P){m=!0;let Xt;for(;!this.J&&this.C<G.length;)if(Xt=pu(this,G),Xt==qi){rt==4&&(this.s=4,Ze(14),m=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==so){this.s=4,Ze(15),mn(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else mn(this.i,this.l,Xt,null),ao(this,Xt);if(ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||G.length!=0||this.h.h||(this.s=1,Ze(16),m=!1),this.o=this.o&&m,!m)mn(this.i,this.l,G,"[Invalid Chunked Response]"),nn(this),gr(this);else if(0<G.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),mo(pt),pt.M=!0,Ze(11))}}else mn(this.i,this.l,G,null),ao(this,G);rt==4&&nn(this),this.o&&!this.J&&(rt==4?ns(this.j,this):(this.o=!1,Be(this)))}else Xi(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),nn(this),gr(this)}}}catch{}finally{}};function ha(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function pu(l,d){var m=l.C,v=d.indexOf(`
`,m);return v==-1?qi:(m=Number(d.substring(m,v)),isNaN(m)?so:(v+=1,v+m>d.length?qi:(d=d.slice(v,v+m),l.C=v+m,d)))}yn.prototype.cancel=function(){this.J=!0,nn(this)};function Be(l){l.S=Date.now()+l.I,fa(l,l.I)}function fa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=pn(U(l.ba,l),d)}function si(l){l.B&&(g.clearTimeout(l.B),l.B=null)}yn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(io(this.i,this.A),this.L!=2&&(Yn(),Ze(17)),nn(this),this.s=2,gr(this)):fa(this,this.S-l)};function gr(l){l.j.G==0||l.J||ns(l.j,l)}function nn(l){si(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Xs(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function ao(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||Lt(m.h,l))){if(!l.K&&Lt(m.h,l)&&m.G==3){try{var v=m.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var O=v;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)ts(m),Tn(m);else break e;es(m),Ze(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=pn(U(m.Za,m),6e3));if(1>=pa(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else tr(m,11)}else if((l.K||m.g==l)&&ts(m),!ge(d))for(O=m.Da.g.parse(d),d=0;d<O.length;d++){let Ce=O[d];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];const pt=Ce[3];pt!=null&&(m.la=pt,m.j.info("VER="+m.la));const rt=Ce[4];rt!=null&&(m.Aa=rt,m.j.info("SVER="+m.Aa));const sn=Ce[5];sn!=null&&typeof sn=="number"&&0<sn&&(v=1.5*sn,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const Xt=l.g;if(Xt){const fi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var z=v.h;z.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(lo(z,z.h),z.h=null))}if(v.D){const is=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(v.ya=is,Ue(v.I,v.D,is))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var G=l;if(v.qa=Ca(v,v.J?v.ia:null,v.W),G.K){ma(v.h,G);var Me=G,ut=v.L;ut&&(Me.I=ut),Me.B&&(si(Me),Be(Me)),v.g=G}else hi(v);0<m.i.length&&Mn(m)}else Ce[0]!="stop"&&Ce[0]!="close"||tr(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?tr(m,7):Et(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}Yn(4)}catch{}}var da=class{constructor(l,d){this.g=l,this.map=d}};function oi(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function pa(l){return l.h?1:l.g?l.g.size:0}function Lt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function lo(l,d){l.g?l.g.add(d):l.h=d}function ma(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}oi.prototype.cancel=function(){if(this.i=ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return X(l.i)}function Qi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(_(l)){for(var d=[],m=l.length,v=0;v<m;v++)d.push(l[v]);return d}d=[],m=0;for(v in l)d[m++]=l[v];return d}function Wi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(_(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const v in l)d[m++]=v;return d}}}function yr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(_(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=Wi(l),v=Qi(l),O=v.length,z=0;z<O;z++)d.call(void 0,v[z],m&&m[z],l)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mu(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var v=l[m].indexOf("="),O=null;if(0<=v){var z=l[m].substring(0,v);O=l[m].substring(v+1)}else z=l[m];d(z,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Xn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Xn){this.h=l.h,li(this,l.j),this.o=l.o,this.g=l.g,_r(this,l.s),this.l=l.l;var d=l.i,m=new xn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),vr(this,m),this.m=l.m}else l&&(d=String(l).match(ai))?(this.h=!1,li(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),_r(this,d[4]),this.l=Ae(d[5]||"",!0),vr(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}Xn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(wr(d,Ki,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(wr(d,Ki,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(wr(m,m.charAt(0)=="/"?va:_a,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",wr(m,uo)),l.join("")};function Gt(l){return new Xn(l)}function li(l,d,m){l.j=m?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function _r(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function vr(l,d,m){d instanceof xn?(l.i=d,On(l.i,l.h)):(m||(d=wr(d,Ea)),l.i=new xn(d,l.h))}function Ue(l,d,m){l.i.set(d,m)}function Er(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function wr(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,ya),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ya(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ki=/[#\/\?@]/g,_a=/[#\?:]/g,va=/[#\?]/g,Ea=/[#\?@]/g,uo=/#/g;function xn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function vt(l){l.g||(l.g=new Map,l.h=0,l.i&&mu(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}i=xn.prototype,i.add=function(l,d){vt(this),this.i=null,l=rn(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function _n(l,d){vt(l),d=rn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function vn(l,d){return vt(l),d=rn(l,d),l.g.has(d)}i.forEach=function(l,d){vt(this),this.g.forEach(function(m,v){m.forEach(function(O){l.call(d,O,v,this)},this)},this)},i.na=function(){vt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let v=0;v<d.length;v++){const O=l[v];for(let z=0;z<O.length;z++)m.push(d[v])}return m},i.V=function(l){vt(this);let d=[];if(typeof l=="string")vn(this,l)&&(d=d.concat(this.g.get(rn(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},i.set=function(l,d){return vt(this),this.i=null,l=rn(this,l),vn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Tr(l,d,m){_n(l,d),0<m.length&&(l.i=null,l.g.set(rn(l,d),X(m)),l.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var v=d[m];const z=encodeURIComponent(String(v)),G=this.V(v);for(v=0;v<G.length;v++){var O=z;G[v]!==""&&(O+="="+encodeURIComponent(String(G[v]))),l.push(O)}}return this.i=l.join("&")};function rn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function On(l,d){d&&!l.j&&(vt(l),l.i=null,l.g.forEach(function(m,v){var O=v.toLowerCase();v!=O&&(_n(this,v),Tr(this,O,m))},l)),l.j=d}function gu(l,d){const m=new ni;if(g.Image){const v=new Image;v.onload=$(zt,m,"TestLoadImage: loaded",!0,d,v),v.onerror=$(zt,m,"TestLoadImage: error",!1,d,v),v.onabort=$(zt,m,"TestLoadImage: abort",!1,d,v),v.ontimeout=$(zt,m,"TestLoadImage: timeout",!1,d,v),g.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function wa(l,d){const m=new ni,v=new AbortController,O=setTimeout(()=>{v.abort(),zt(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(z=>{clearTimeout(O),z.ok?zt(m,"TestPingServer: ok",!0,d):zt(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),zt(m,"TestPingServer: error",!1,d)})}function zt(l,d,m,v,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),v(m)}catch{}}function yu(){this.g=new eo}function Ta(l,d,m){const v=m||"";try{yr(l,function(O,z){let G=O;E(O)&&(G=Js(O)),d.push(v+z+"="+encodeURIComponent(G))})}catch(O){throw d.push(v+"type="+encodeURIComponent("_badmap")),O}}function Jn(l){this.l=l.Ub||null,this.j=l.eb||!1}Y(Jn,ei),Jn.prototype.g=function(){return new ui(this.l,this.j)},Jn.prototype.i=function(l){return function(){return l}}({});function ui(l,d){at.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ui,at),i=ui.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,wn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||g).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ia(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ia(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?En(this):wn(this),this.readyState==3&&Ia(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,En(this))},i.Qa=function(l){this.g&&(this.response=l,En(this))},i.ga=function(){this.g&&En(this)};function En(l){l.readyState=4,l.l=null,l.j=null,l.v=null,wn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function wn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Zn(l){let d="";return Ve(l,function(m,v){d+=v,d+=":",d+=m,d+=`\r
`}),d}function Ir(l,d,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Zn(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ue(l,d,m))}function He(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(He,at);var _u=/^https?$/i,co=["POST","PUT"];i=He.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?Ui(this.o):Ui(gn),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){ci(this,z);return}if(l=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var O in v)m.set(O,v[O]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const z of v.keys())m.set(z,v.get(z));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),O=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(co,d,void 0))||v||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,G]of m)this.g.setRequestHeader(z,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){ci(this,z)}};function ci(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Gi(l),Yt(l)}function Gi(l){l.A||(l.A=!0,lt(l,"complete"),lt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),Yt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ho(this):this.bb())},i.bb=function(){ho(this)};function ho(l){if(l.h&&typeof f<"u"&&(!l.v[1]||Bt(l)!=4||l.Z()!=2)){if(l.u&&Bt(l)==4)Gs(l.Ea,0,l);else if(lt(l,"readystatechange"),Bt(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var v;if(v=G===0){var O=String(l.D).match(ai)[1]||null;!O&&g.self&&g.self.location&&(O=g.self.location.protocol.slice(0,-1)),v=!_u.test(O?O.toLowerCase():"")}m=v}if(m)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var z=2<Bt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",Gi(l)}}finally{Yt(l)}}}}function Yt(l,d){if(l.g){Yi(l);const m=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||lt(l,"ready");try{m.onreadystatechange=v}catch{}}}function Yi(l){l.I&&(g.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Zs(d)}};function fo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(l){const d={};l=(l.g&&2<=Bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(ge(l[v]))continue;var m=D(l[v]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=d[O]||[];d[O]=z,z.push(m)}V(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function po(l){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ln("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ln("baseRetryDelayMs",5e3,l),this.cb=Ln("retryDelaySeedMs",1e4,l),this.Wa=Ln("forwardChannelMaxRetries",2,l),this.wa=Ln("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(l&&l.concurrentRequestLimit),this.Da=new yu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=po.prototype,i.la=8,i.G=1,i.connect=function(l,d,m,v){Ze(0),this.W=l,this.H=d||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Ca(this,null,this.W),Mn(this)};function Et(l){if(Ji(l),l.G==3){var d=l.U++,m=Gt(l.I);if(Ue(m,"SID",l.K),Ue(m,"RID",d),Ue(m,"TYPE","terminate"),er(l,m),d=new yn(l,l.j,d),d.L=2,d.v=Er(Gt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=d.v,m=!0),m||(d.g=Pa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Be(d)}Ra(l)}function Tn(l){l.g&&(mo(l),l.g.cancel(),l.g=null)}function Ji(l){Tn(l),l.u&&(g.clearTimeout(l.u),l.u=null),ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Mn(l){if(!Kt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Fe||ee(),J||(Fe(),J=!0),ue.add(d,l),l.B=0}}function vu(l,d){return pa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=pn(U(l.Ga,l,d),Aa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new yn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=T(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(O.H=z,z=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Sr(this,O,d),m=Gt(this.I),Ue(m,"RID",l),Ue(m,"CVER",22),this.D&&Ue(m,"X-HTTP-Session-Id",this.D),er(this,m),z&&(this.O?d="headers="+encodeURIComponent(String(Zn(z)))+"&"+d:this.m&&Ir(m,this.m,z)),lo(this.h,O),this.Ua&&Ue(m,"TYPE","init"),this.P?(Ue(m,"$req",d),Ue(m,"SID","null"),O.T=!0,Hi(O,m,null)):Hi(O,m,d),this.G=2}}else this.G==3&&(l?Zi(this,l):this.i.length==0||Kt(this.h)||Zi(this))};function Zi(l,d){var m;d?m=d.l:m=l.U++;const v=Gt(l.I);Ue(v,"SID",l.K),Ue(v,"RID",m),Ue(v,"AID",l.T),er(l,v),l.m&&l.o&&Ir(v,l.m,l.o),m=new yn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Sr(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),lo(l.h,m),Hi(m,v,d)}function er(l,d){l.H&&Ve(l.H,function(m,v){Ue(d,v,m)}),l.l&&yr({},function(m,v){Ue(d,v,m)})}function Sr(l,d,m){m=Math.min(l.i.length,m);var v=l.l?U(l.l.Na,l.l,l):null;e:{var O=l.i;let z=-1;for(;;){const G=["count="+m];z==-1?0<m?(z=O[0].g,G.push("ofs="+z)):z=0:G.push("ofs="+z);let Me=!0;for(let ut=0;ut<m;ut++){let Ce=O[ut].g;const pt=O[ut].map;if(Ce-=z,0>Ce)z=Math.max(0,O[ut].g-100),Me=!1;else try{Ta(pt,G,"req"+Ce+"_")}catch{v&&v(pt)}}if(Me){v=G.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,v}function hi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Fe||ee(),J||(Fe(),J=!0),ue.add(d,l),l.v=0}}function es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=pn(U(l.Fa,l),Aa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Sa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=pn(U(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Tn(this),Sa(this))};function mo(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function Sa(l){l.g=new yn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Gt(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),er(l,d),l.m&&l.o&&Ir(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Er(Gt(d)),m.m=null,m.P=!0,oo(m,l)}i.Za=function(){this.C!=null&&(this.C=null,Tn(this),es(this),Ze(19))};function ts(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function ns(l,d){var m=null;if(l.g==d){ts(l),mo(l),l.g=null;var v=2}else if(Lt(l.h,d))m=d.D,ma(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;v=ti(),lt(v,new ji(v,m)),Mn(l)}else hi(l);else if(O=d.s,O==3||O==0&&0<d.X||!(v==1&&vu(l,d)||v==2&&es(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),O){case 1:tr(l,5);break;case 4:tr(l,10);break;case 3:tr(l,6);break;default:tr(l,2)}}}function Aa(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function tr(l,d){if(l.j.info("Error code "+d),d==2){var m=U(l.fb,l),v=l.Xa;const O=!v;v=new Xn(v||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||li(v,"https"),Er(v),O?gu(v.toString(),m):wa(v.toString(),m)}else Ze(2);l.G=0,l.l&&l.l.sa(d),Ra(l),Ji(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Ra(l){if(l.G=0,l.ka=[],l.l){const d=ga(l.h);(d.length!=0||l.i.length!=0)&&(W(l.ka,d),W(l.ka,l.i),l.h.i.length=0,X(l.i),l.i.length=0),l.l.ra()}}function Ca(l,d,m){var v=m instanceof Xn?Gt(m):new Xn(m);if(v.g!="")d&&(v.g=d+"."+v.g),_r(v,v.s);else{var O=g.location;v=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var z=new Xn(null);v&&li(z,v),d&&(z.g=d),O&&_r(z,O),m&&(z.l=m),v=z}return m=l.D,d=l.ya,m&&d&&Ue(v,m,d),Ue(v,"VER",l.la),er(l,v),v}function Pa(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new He(new Jn({eb:m})):new He(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function go(){}i=go.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(l,d){return new Mt(l,d)};function Mt(l,d){at.call(this),this.g=new po(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ge(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ge(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Fn(this)}Y(Mt,at),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Et(this.g)},Mt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Js(l),l=m);d.i.push(new da(d.Ya++,l)),d.G==3&&Mn(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Et(this.g),delete this.g,Mt.aa.N.call(this)};function ka(l){Dn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}Y(ka,Dn);function Va(){Bi.call(this),this.status=1}Y(Va,Bi);function Fn(l){this.g=l}Y(Fn,go),Fn.prototype.ua=function(){lt(this.g,"a")},Fn.prototype.ta=function(l){lt(this.g,new ka(l))},Fn.prototype.sa=function(l){lt(this.g,new Va)},Fn.prototype.ra=function(){lt(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Wm=function(){return new rs},Qm=function(){return ti()},Hm=Nn,ih={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Vl=$i,ua.COMPLETE="complete",qm=ua,zi.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",at.prototype.listen=at.prototype.K,jo=zi,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,$m=He}).apply(typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{});const kp="@firebase/firestore",Vp="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Mm("@firebase/firestore");function As(){return Ci.logLevel}function te(i,...e){if(Ci.logLevel<=ke.DEBUG){const n=e.map(Sh);Ci.debug(`Firestore (${Bs}): ${i}`,...n)}}function fr(i,...e){if(Ci.logLevel<=ke.ERROR){const n=e.map(Sh);Ci.error(`Firestore (${Bs}): ${i}`,...n)}}function Ns(i,...e){if(Ci.logLevel<=ke.WARN){const n=e.map(Sh);Ci.warn(`Firestore (${Bs}): ${i}`,...n)}}function Sh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Km(i,s,n)}function Km(i,e,n){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Le(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||Km(e,a,s)}function me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class gE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yE{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let s=this.i;const a=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const _=c;e.enqueueRetryable(async()=>{await _.promise,await a(this.currentUser)})},g=_=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string",31837,{l:s}),new Gm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new xt(e)}}class _E{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vE{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new _E(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jv(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=wE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function ve(i,e){return i<e?-1:i>e?1:0}function sh(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return ve(s,a);{const c=Ym(),f=TE(c.encode(Np(i,n)),c.encode(Np(e,n)));return f!==0?f:ve(s,a)}}n+=s>65535?2:1}return ve(i.length,e.length)}function Np(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function TE(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return ve(i[n],e[n]);return ve(i.length,e.length)}function xs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=-62135596800,Op=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Op);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xp)throw new ie(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Op}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new nt(0,0))}static max(){return new pe(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="__name__";class bn{constructor(e,n,s){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&fe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=bn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return ve(e.length,n.length)}static compareSegments(e,n){const s=bn.isNumericId(e),a=bn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?bn.extractNumericId(e).compare(bn.extractNumericId(n)):sh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class qe extends bn{construct(e,n,s){return new qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(b.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const IE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends bn{construct(e,n,s){return new St(e,n,s)}static isValidIdentifier(e){return IE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lp}static keyField(){return new St([Lp])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ie(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new ie(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ie(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,a+=2}else g==="`"?(f=!f,a++):g!=="."||f?(s+=g,a++):(c(),a++)}if(c(),f)throw new ie(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(qe.fromString(e))}static fromName(e){return new le(qe.fromString(e).popFirst(5))}static empty(){return new le(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=-1;function SE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=pe.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new Hr(a,le.empty(),e)}function AE(i){return new Hr(i.readTime,i.key,Xo)}class Hr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(pe.min(),le.empty(),Xo)}static max(){return new Hr(pe.max(),le.empty(),Xo)}}function RE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(i.documentKey,e.documentKey),n!==0?n:ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(i){if(i.code!==b.FAILED_PRECONDITION||i.message!==CE)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let a=0,c=0,f=!1;e.forEach(g=>{++a,g.next(()=>{++c,f&&c===a&&n()},_=>s(_))}),f=!0,c===a&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(a=>a?B.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new B((s,a)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const E=_;n(e[E]).next(I=>{f[E]=I,++g,g===c&&s(f)},I=>a(I))}})}static doWhile(e,n){return new B((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function kE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zl.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function eu(i){return i==null}function Bl(i){return i===0&&1/i==-1/0}function VE(i){return typeof i=="number"&&Number.isInteger(i)&&!Bl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="";function DE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Mp(e)),e=NE(i.get(n),e);return Mp(e)}function NE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case Jm:n+="";break;default:n+=c}}return n}function Mp(i){return i+Jm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ki(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Zm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??It.RED,this.left=a??It.EMPTY,this.right=c??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new It(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return It.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class Up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new kn([])}unionWith(e){let n=new ft(St.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new eg("Invalid base64 string: "+c):c}}(e);return new At(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const xE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(i){if(Le(!!i,39018),typeof i=="string"){let e=0;const n=xE.exec(i);if(Le(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:tt(i.seconds),nanos:tt(i.nanos)}}function tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wr(i){return typeof i=="string"?At.fromBase64String(i):At.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="server_timestamp",ng="__type__",rg="__previous_value__",ig="__local_write_time__";function Rh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ng])===null||n===void 0?void 0:n.stringValue)===tg}function tu(i){const e=i.mapValue.fields[rg];return Rh(e)?tu(e):e}function Jo(i){const e=Qr(i.mapValue.fields[ig].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,s,a,c,f,g,_,E,I){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=E,this.isUsingEmulator=I}}const jl="(default)";class Zo{constructor(e,n){this.projectId=e,this.database=n||jl}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database===jl}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="__type__",LE="__max__",Rl={mapValue:{}},og="__vector__",bl="value";function Kr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rh(i)?4:FE(i)?9007199254740991:ME(i)?10:11:fe(28295,{value:i})}function Hn(i,e){if(i===e)return!0;const n=Kr(i);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jo(i).isEqual(Jo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Qr(a.timestampValue),g=Qr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Wr(a.bytesValue).isEqual(Wr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return tt(a.geoPointValue.latitude)===tt(c.geoPointValue.latitude)&&tt(a.geoPointValue.longitude)===tt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return tt(a.integerValue)===tt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=tt(a.doubleValue),g=tt(c.doubleValue);return f===g?Bl(f)===Bl(g):isNaN(f)&&isNaN(g)}return!1}(i,e);case 9:return xs(i.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},g=c.mapValue.fields||{};if(Fp(f)!==Fp(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!Hn(f[_],g[_])))return!1;return!0}(i,e);default:return fe(52216,{left:i})}}function ea(i,e){return(i.values||[]).find(n=>Hn(n,e))!==void 0}function Os(i,e){if(i===e)return 0;const n=Kr(i),s=Kr(e);if(n!==s)return ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(i.booleanValue,e.booleanValue);case 2:return function(c,f){const g=tt(c.integerValue||c.doubleValue),_=tt(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(i,e);case 3:return zp(i.timestampValue,e.timestampValue);case 4:return zp(Jo(i),Jo(e));case 5:return sh(i.stringValue,e.stringValue);case 6:return function(c,f){const g=Wr(c),_=Wr(f);return g.compareTo(_)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const g=c.split("/"),_=f.split("/");for(let E=0;E<g.length&&E<_.length;E++){const I=ve(g[E],_[E]);if(I!==0)return I}return ve(g.length,_.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const g=ve(tt(c.latitude),tt(f.latitude));return g!==0?g:ve(tt(c.longitude),tt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Bp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var g,_,E,I;const k=c.fields||{},U=f.fields||{},$=(g=k[bl])===null||g===void 0?void 0:g.arrayValue,Y=(_=U[bl])===null||_===void 0?void 0:_.arrayValue,X=ve(((E=$==null?void 0:$.values)===null||E===void 0?void 0:E.length)||0,((I=Y==null?void 0:Y.values)===null||I===void 0?void 0:I.length)||0);return X!==0?X:Bp($,Y)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Rl.mapValue&&f===Rl.mapValue)return 0;if(c===Rl.mapValue)return 1;if(f===Rl.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),E=f.fields||{},I=Object.keys(E);_.sort(),I.sort();for(let k=0;k<_.length&&k<I.length;++k){const U=sh(_[k],I[k]);if(U!==0)return U;const $=Os(g[_[k]],E[I[k]]);if($!==0)return $}return ve(_.length,I.length)}(i.mapValue,e.mapValue);default:throw fe(23264,{Pe:n})}}function zp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ve(i,e);const n=Qr(i),s=Qr(e),a=ve(n.seconds,s.seconds);return a!==0?a:ve(n.nanos,s.nanos)}function Bp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Os(n[a],s[a]);if(c)return c}return ve(n.length,s.length)}function Ls(i){return oh(i)}function oh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Wr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return le.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=oh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${oh(n.fields[f])}`;return a+"}"}(i.mapValue):fe(61005,{value:i})}function Dl(i){switch(Kr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tu(i);return e?16+Dl(e):16;case 5:return 2*i.stringValue.length;case 6:return Wr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Dl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ki(s.fields,(c,f)=>{a+=c.length+Dl(f)}),a}(i.mapValue);default:throw fe(13486,{value:i})}}function jp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ah(i){return!!i&&"integerValue"in i}function Ch(i){return!!i&&"arrayValue"in i}function bp(i){return!!i&&"nullValue"in i}function $p(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nl(i){return!!i&&"mapValue"in i}function ME(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[sg])===null||n===void 0?void 0:n.stringValue)===og}function Ho(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ki(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ho(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ho(i.arrayValue.values[n]);return e}return Object.assign({},i)}function FE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===LE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(n)}setAll(e){let n=St.emptyPath(),s={},a=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=g.popLast()}f?s[g.lastSegment()]=Ho(f):a.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Nl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Nl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ki(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new fn(Ho(this.value))}}function ag(i){const e=[];return ki(i.fields,(n,s)=>{const a=new St([n]);if(Nl(s)){const c=ag(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Ot(e,0,pe.min(),pe.min(),pe.min(),fn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,pe.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,pe.min(),pe.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,pe.min(),pe.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.position=e,this.inclusive=n}}function qp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=le.comparator(le.fromName(f.referenceValue),n.key):s=Os(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function UE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{}class ot extends lg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new BE(e,n,s):n==="array-contains"?new $E(e,s):n==="in"?new qE(e,s):n==="not-in"?new HE(e,s):n==="array-contains-any"?new QE(e,s):new ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jE(e,s):new bE(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Os(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends lg{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Vn(e,n)}matches(e){return ug(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ug(i){return i.op==="and"}function cg(i){return zE(i)&&ug(i)}function zE(i){for(const e of i.filters)if(e instanceof Vn)return!1;return!0}function lh(i){if(i instanceof ot)return i.field.canonicalString()+i.op.toString()+Ls(i.value);if(cg(i))return i.filters.map(e=>lh(e)).join(",");{const e=i.filters.map(n=>lh(n)).join(",");return`${i.op}(${e})`}}function hg(i,e){return i instanceof ot?function(s,a){return a instanceof ot&&s.op===a.op&&s.field.isEqual(a.field)&&Hn(s.value,a.value)}(i,e):i instanceof Vn?function(s,a){return a instanceof Vn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,g)=>c&&hg(f,a.filters[g]),!0):!1}(i,e):void fe(19439)}function fg(i){return i instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(i):i instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(fg).join(" ,")+"}"}(i):"Filter"}class BE extends ot{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class jE extends ot{constructor(e,n){super(e,"in",n),this.keys=dg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bE extends ot{constructor(e,n){super(e,"not-in",n),this.keys=dg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>le.fromName(s.referenceValue))}class $E extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ch(n)&&ea(n.arrayValue,this.value)}}class qE extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ea(this.value.arrayValue,n)}}class HE extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ea(this.value.arrayValue,n)}}class QE extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n=null,s=[],a=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function Qp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new WE(i,e,n,s,a,c,f)}function Ph(i){const e=me(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>lh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),eu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ls(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ls(s)).join(",")),e.Ie=n}return e.Ie}function kh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!UE(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!hg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Hp(i.startAt,e.startAt)&&Hp(i.endAt,e.endAt)}function uh(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n=null,s=[],a=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KE(i,e,n,s,a,c,f,g){return new ra(i,e,n,s,a,c,f,g)}function pg(i){return new ra(i)}function Wp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mg(i){return i.collectionGroup!==null}function Qo(i){const e=me(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new ft(St.comparator);return f.filters.forEach(_=>{_.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new ql(c,s))}),n.has(St.keyField().canonicalString())||e.Ee.push(new ql(St.keyField(),s))}return e.Ee}function $n(i){const e=me(i);return e.de||(e.de=GE(e,Qo(i))),e.de}function GE(i,e){if(i.limitType==="F")return Qp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new ql(a.field,c)});const n=i.endAt?new $l(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new $l(i.startAt.position,i.startAt.inclusive):null;return Qp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ch(i,e){const n=i.filters.concat([e]);return new ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function hh(i,e,n){return new ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nu(i,e){return kh($n(i),$n(e))&&i.limitType===e.limitType}function gg(i){return`${Ph($n(i))}|lt:${i.limitType}`}function Rs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>fg(a)).join(", ")}]`),eu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ls(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ls(a)).join(",")),`Target(${s})`}($n(i))}; limitType=${i.limitType})`}function ru(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):le.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Qo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,g,_){const E=qp(f,g,_);return f.inclusive?E<=0:E<0}(s.startAt,Qo(s),a)||s.endAt&&!function(f,g,_){const E=qp(f,g,_);return f.inclusive?E>=0:E>0}(s.endAt,Qo(s),a))}(i,e)}function YE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yg(i){return(e,n)=>{let s=!1;for(const a of Qo(i)){const c=XE(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function XE(i,e,n){const s=i.field.isKeyField()?le.comparator(e.key,n.key):function(c,f,g){const _=f.data.field(c),E=g.data.field(c);return _!==null&&E!==null?Os(_,E):fe(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return fe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Zm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Ge(le.comparator);function dr(){return JE}const _g=new Ge(le.comparator);function bo(...i){let e=_g;for(const n of i)e=e.insert(n.key,n);return e}function vg(i){let e=_g;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ri(){return Wo()}function Eg(){return Wo()}function Wo(){return new Vi(i=>i.toString(),(i,e)=>i.isEqual(e))}const ZE=new Ge(le.comparator),e0=new ft(le.comparator);function Ie(...i){let e=e0;for(const n of i)e=e.add(n);return e}const t0=new ft(ve);function n0(){return t0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function wg(i){return{integerValue:""+i}}function r0(i,e){return VE(e)?wg(e):Vh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this._=void 0}}function i0(i,e,n){return i instanceof Hl?function(a,c){const f={fields:{[ng]:{stringValue:tg},[ig]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Rh(c)&&(c=tu(c)),c&&(f.fields[rg]=c),{mapValue:f}}(n,e):i instanceof ta?Ig(i,e):i instanceof na?Sg(i,e):function(a,c){const f=Tg(a,c),g=Kp(f)+Kp(a.Re);return ah(f)&&ah(a.Re)?wg(g):Vh(a.serializer,g)}(i,e)}function s0(i,e,n){return i instanceof ta?Ig(i,e):i instanceof na?Sg(i,e):n}function Tg(i,e){return i instanceof Ql?function(s){return ah(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Hl extends iu{}class ta extends iu{constructor(e){super(),this.elements=e}}function Ig(i,e){const n=Ag(e);for(const s of i.elements)n.some(a=>Hn(a,s))||n.push(s);return{arrayValue:{values:n}}}class na extends iu{constructor(e){super(),this.elements=e}}function Sg(i,e){let n=Ag(e);for(const s of i.elements)n=n.filter(a=>!Hn(a,s));return{arrayValue:{values:n}}}class Ql extends iu{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Kp(i){return tt(i.integerValue||i.doubleValue)}function Ag(i){return Ch(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function o0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ta&&a instanceof ta||s instanceof na&&a instanceof na?xs(s.elements,a.elements,Hn):s instanceof Ql&&a instanceof Ql?Hn(s.Re,a.Re):s instanceof Hl&&a instanceof Hl}(i.transform,e.transform)}class a0{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class su{}function Rg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Pg(i.key,cr.none()):new ia(i.key,i.data,cr.none());{const n=i.data,s=fn.empty();let a=new ft(St.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Di(i.key,s,new kn(a.toArray()),cr.none())}}function l0(i,e,n){i instanceof ia?function(a,c,f){const g=a.value.clone(),_=Yp(a.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):i instanceof Di?function(a,c,f){if(!xl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Yp(a.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(Cg(a)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ko(i,e,n,s){return i instanceof ia?function(c,f,g,_){if(!xl(c.precondition,f))return g;const E=c.value.clone(),I=Xp(c.fieldTransforms,_,f);return E.setAll(I),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof Di?function(c,f,g,_){if(!xl(c.precondition,f))return g;const E=Xp(c.fieldTransforms,_,f),I=f.data;return I.setAll(Cg(c)),I.setAll(E),f.convertToFoundDocument(f.version,I).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(k=>k.field))}(i,e,n,s):function(c,f,g){return xl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(i,e,n)}function u0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Tg(s.transform,a||null);c!=null&&(n===null&&(n=fn.empty()),n.set(s.field,c))}return n||null}function Gp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&xs(s,a,(c,f)=>o0(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ia extends su{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Di extends su{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Cg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Yp(i,e,n){const s=new Map;Le(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,g=e.data.field(c.field);s.set(c.field,s0(f,g,n[a]))}return s}function Xp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,i0(c,f,e))}return s}class Pg extends su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c0 extends su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&l0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Eg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(a.key)?null:g;const _=Rg(f,g);_!==null&&s.set(a.key,_),f.isValidDocument()||f.convertToNoDocument(pe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(n,s)=>Gp(n,s))&&xs(this.baseMutations,e.baseMutations,(n,s)=>Gp(n,s))}}class Dh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Le(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return ZE}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Dh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Pe;function p0(i){switch(i){case b.OK:return fe(64938);case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return fe(15467,{code:i})}}function kg(i){if(i===void 0)return fr("GRPC error has no .code"),b.UNKNOWN;switch(i){case st.OK:return b.OK;case st.CANCELLED:return b.CANCELLED;case st.UNKNOWN:return b.UNKNOWN;case st.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case st.INTERNAL:return b.INTERNAL;case st.UNAVAILABLE:return b.UNAVAILABLE;case st.UNAUTHENTICATED:return b.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case st.NOT_FOUND:return b.NOT_FOUND;case st.ALREADY_EXISTS:return b.ALREADY_EXISTS;case st.PERMISSION_DENIED:return b.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case st.ABORTED:return b.ABORTED;case st.OUT_OF_RANGE:return b.OUT_OF_RANGE;case st.UNIMPLEMENTED:return b.UNIMPLEMENTED;case st.DATA_LOSS:return b.DATA_LOSS;default:return fe(39323,{code:i})}}(Pe=st||(st={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new br([4294967295,4294967295],0);function Jp(i){const e=Ym().encode(i),n=new bm;return n.update(e),new Uint8Array(n.digest())}function Zp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new br([n,s],0),new br([a,c],0)]}class Nh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(s<0)throw new $o(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=br.fromNumber(this.pe)}we(e,n,s){let a=e.add(n.multiply(br.fromNumber(s)));return a.compare(m0)===1&&(a=new br([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Jp(e),[s,a]=Zp(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,a,c);if(!this.be(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Nh(c,a,n);return s.forEach(g=>f.insert(g)),f}insert(e){if(this.pe===0)return;const n=Jp(e),[s,a]=Zp(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,a,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ou(pe.min(),a,new Ge(ve),dr(),Ie())}}class sa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new sa(s,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,s,a){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=a}}class Vg{constructor(e,n){this.targetId=e,this.Ce=n}}class Dg{constructor(e,n,s=At.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class em{constructor(){this.Fe=0,this.Me=tm(),this.xe=At.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ie(),n=Ie(),s=Ie();return this.Me.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:fe(38017,{changeType:c})}}),new sa(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=tm()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Le(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class g0{constructor(e){this.ze=e,this.je=new Map,this.He=dr(),this.Je=Cl(),this.Ye=Cl(),this.Ze=new Ge(ve)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,s=e.Ce.count,a=this._t(n);if(a){const c=a.target;if(uh(c))if(s===0){const f=new le(c.path);this.tt(n,f,Ot.newNoDocument(f,pe.min()))}else Le(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(e),_=g?this.lt(g,e,f):1;if(_!==0){this.st(n);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,E)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,g;try{f=Wr(s).toUint8Array()}catch(_){if(_ instanceof eg)return Ns("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Nh(f,a,c)}catch(_){return Ns(_ instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.tt(n,c,null),a++)}),a}It(e){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&uh(g.target)){const _=new le(g.target.path);this.Et(_).has(f)||this.dt(f,_)||this.tt(f,_,Ot.newNoDocument(_,e))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Ie();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(_=>{const E=this._t(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(e));const a=new ou(e,n,this.Ze,this.He,s);return this.He=dr(),this.Je=Cl(),this.Ye=Cl(),this.Ze=new Ge(ve),a}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new em,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ft(ve),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ft(ve),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new em),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Cl(){return new Ge(le.comparator)}function tm(){return new Ge(le.comparator)}const y0={asc:"ASCENDING",desc:"DESCENDING"},_0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v0={and:"AND",or:"OR"};class E0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fh(i,e){return i.useProto3Json||eu(e)?e:{value:e}}function Wl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ng(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function w0(i,e){return Wl(i,e.toTimestamp())}function qn(i){return Le(!!i,49232),pe.fromTimestamp(function(n){const s=Qr(n);return new nt(s.seconds,s.nanos)}(i))}function xh(i,e){return dh(i,e).canonicalString()}function dh(i,e){const n=function(a){return new qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function xg(i){const e=qe.fromString(i);return Le(Ug(e),10190,{key:e.toString()}),e}function ph(i,e){return xh(i.databaseId,e.path)}function Kc(i,e){const n=xg(e);if(n.get(1)!==i.databaseId.projectId)throw new ie(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ie(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new le(Lg(n))}function Og(i,e){return xh(i.databaseId,e)}function T0(i){const e=xg(i);return e.length===4?qe.emptyPath():Lg(e)}function mh(i){return new qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Lg(i){return Le(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function nm(i,e,n){return{name:ph(i,e),fields:n.value.mapValue.fields}}function I0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:fe(39313,{state:E})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,I){return E.useProto3Json?(Le(I===void 0||typeof I=="string",58123),At.fromBase64String(I||"")):(Le(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),At.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(E){const I=E.code===void 0?b.UNKNOWN:kg(E.code);return new ie(I,E.message||"")}(f);n=new Dg(s,a,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Kc(i,s.document.name),c=qn(s.document.updateTime),f=s.document.createTime?qn(s.document.createTime):pe.min(),g=new fn({mapValue:{fields:s.document.fields}}),_=Ot.newFoundDocument(a,c,f,g),E=s.targetIds||[],I=s.removedTargetIds||[];n=new Ol(E,I,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Kc(i,s.document),c=s.readTime?qn(s.readTime):pe.min(),f=Ot.newNoDocument(a,c),g=s.removedTargetIds||[];n=new Ol([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Kc(i,s.document),c=s.removedTargetIds||[];n=new Ol([],c,a,null)}else{if(!("filter"in e))return fe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new d0(a,c),g=s.targetId;n=new Vg(g,f)}}return n}function S0(i,e){let n;if(e instanceof ia)n={update:nm(i,e.key,e.value)};else if(e instanceof Pg)n={delete:ph(i,e.key)};else if(e instanceof Di)n={update:nm(i,e.key,e.data),updateMask:x0(e.fieldMask)};else{if(!(e instanceof c0))return fe(16599,{ft:e.type});n={verify:ph(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Hl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ta)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof na)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw fe(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:w0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:fe(27497)}(i,e.precondition)),n}function A0(i,e){return i&&i.length>0?(Le(e!==void 0,14353),i.map(n=>function(a,c){let f=a.updateTime?qn(a.updateTime):qn(c);return f.isEqual(pe.min())&&(f=qn(c)),new a0(f,a.transformResults||[])}(n,e))):[]}function R0(i,e){return{documents:[Og(i,e.path)]}}function C0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Og(i,a);const c=function(E){if(E.length!==0)return Fg(Vn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(I=>function(U){return{field:Cs(U.field),direction:V0(U.dir)}}(I))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=fh(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{gt:n,parent:a}}function P0(i){let e=T0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Le(s===1,65062);const I=n.from[0];I.allDescendants?a=I.collectionId:e=e.child(I.collectionId)}let c=[];n.where&&(c=function(k){const U=Mg(k);return U instanceof Vn&&cg(U)?U.getFilters():[U]}(n.where));let f=[];n.orderBy&&(f=function(k){return k.map(U=>function(Y){return new ql(Ps(Y.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(U))}(n.orderBy));let g=null;n.limit&&(g=function(k){let U;return U=typeof k=="object"?k.value:k,eu(U)?null:U}(n.limit));let _=null;n.startAt&&(_=function(k){const U=!!k.before,$=k.values||[];return new $l($,U)}(n.startAt));let E=null;return n.endAt&&(E=function(k){const U=!k.before,$=k.values||[];return new $l($,U)}(n.endAt)),KE(e,a,f,c,g,"F",_,E)}function k0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ps(n.unaryFilter.field);return ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ps(n.unaryFilter.field);return ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(n.unaryFilter.field);return ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ps(n.unaryFilter.field);return ot.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(i):i.fieldFilter!==void 0?function(n){return ot.create(Ps(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(s=>Mg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(i):fe(30097,{filter:i})}function V0(i){return y0[i]}function D0(i){return _0[i]}function N0(i){return v0[i]}function Cs(i){return{fieldPath:i.canonicalString()}}function Ps(i){return St.fromServerFormat(i.fieldPath)}function Fg(i){return i instanceof ot?function(n){if(n.op==="=="){if($p(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(bp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($p(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(bp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:D0(n.op),value:n.value}}}(i):i instanceof Vn?function(n){const s=n.getFilters().map(a=>Fg(a));return s.length===1?s[0]:{compositeFilter:{op:N0(n.op),filters:s}}}(i):fe(54877,{filter:i})}function x0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ug(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,s,a,c=pe.min(),f=pe.min(),g=At.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.wt=e}}function L0(i){const e=P0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.yn=new F0}addToCollectionParentIndex(e,n){return this.yn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Hr.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class F0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new ft(qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ft(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zg=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(zg,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ms(0)}static ir(){return new Ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LruGarbageCollector",U0=1048576;function sm([i,e],[n,s]){const a=ve(i,n);return a===0?ve(e,s):a}class z0{constructor(e){this.cr=e,this.buffer=new ft(sm),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){te(im,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bs(n)?te(im,"Ignoring IndexedDB error during garbage collection: ",n):await js(n)}await this.Ir(3e5)})}}class j0{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Zl.le);const s=new z0(n);return this.Er.forEachTarget(e,a=>s.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>s.Pr(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(rm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rm):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,a,c,f,g,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),a=this.params.maximumSequenceNumbersToCollect):a=k,f=Date.now(),this.nthSequenceNumber(e,a))).next(k=>(s=k,g=Date.now(),this.removeTargets(e,s,n))).next(k=>(c=k,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(k=>(E=Date.now(),As()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-I}ms
	Determined least recently used ${a} in `+(g-f)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${k} documents in `+(E-_)+`ms
Total Duration: ${E-I}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:k})))}}function b0(i,e){return new j0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.changes=new Vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Ko(s.mutation,a,kn.empty(),nt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ie()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ie()){const a=Ri();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=bo();return c.forEach((g,_)=>{f=f.insert(g,_.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ri();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ie()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,s,a){let c=dr();const f=Wo(),g=function(){return Wo()}();return n.forEach((_,E)=>{const I=s.get(E.key);a.has(E.key)&&(I===void 0||I.mutation instanceof Di)?c=c.insert(E.key,E):I!==void 0?(f.set(E.key,I.mutation.getFieldMask()),Ko(I.mutation,E,I.mutation.getFieldMask(),nt.now())):f.set(E.key,kn.empty())}),this.recalculateAndSaveOverlays(e,c).next(_=>(_.forEach((E,I)=>f.set(E,I)),n.forEach((E,I)=>{var k;return g.set(E,new q0(I,(k=f.get(E))!==null&&k!==void 0?k:null))}),g))}recalculateAndSaveOverlays(e,n){const s=Wo();let a=new Ge((f,g)=>f-g),c=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(_=>{const E=n.get(_);if(E===null)return;let I=s.get(_)||kn.empty();I=g.applyToLocalView(E,I),s.set(_,I);const k=(a.get(g.batchId)||Ie()).add(_);a=a.insert(g.batchId,k)})}).next(()=>{const f=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),E=_.key,I=_.value,k=Eg();I.forEach(U=>{if(!c.has(U)){const $=Rg(n.get(U),s.get(U));$!==null&&k.set(U,$),c=c.add(U)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,k))}return B.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return le.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):B.resolve(Ri());let g=Xo,_=c;return f.next(E=>B.forEach(E,(I,k)=>(g<k.largestBatchId&&(g=k.largestBatchId),c.get(I)?B.resolve():this.remoteDocumentCache.getEntry(e,I).next(U=>{_=_.insert(I,U)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,_,E,Ie())).next(I=>({batchId:g,changes:vg(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(s=>{let a=bo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=bo();return this.indexManager.getCollectionParents(e,c).next(g=>B.forEach(g,_=>{const E=function(k,U){return new ra(U,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)}(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(I=>{I.forEach((k,U)=>{f=f.insert(k,U)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((_,E)=>{const I=E.getKey();f.get(I)===null&&(f=f.insert(I,Ot.newInvalidDocument(I)))});let g=bo();return f.forEach((_,E)=>{const I=c.get(_);I!==void 0&&Ko(I.mutation,E,kn.empty(),nt.now()),ru(n,E)&&(g=g.insert(_,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return B.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qn(a.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(a){return{name:a.name,query:L0(a.bundledQuery),readTime:qn(a.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.overlays=new Ge(le.comparator),this.Or=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ri();return B.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.St(e,n,c)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Or.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const a=Ri(),c=n.length+1,f=new le(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,E=_.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>s&&a.set(_.getKey(),_)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ge((E,I)=>E-I);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let I=c.get(E.largestBatchId);I===null&&(I=Ri(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const g=Ri(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,I)=>g.set(E,I)),!(g.size()>=a)););return B.resolve(g)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Or.get(a.largestBatchId).delete(s.key);this.Or.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new f0(n,s));let c=this.Or.get(n);c===void 0&&(c=Ie(),this.Or.set(n,c)),this.Or.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this.Nr=new ft(_t.Br),this.Lr=new ft(_t.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new _t(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new _t(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new le(new qe([])),s=new _t(n,e),a=new _t(n,e+1),c=[];return this.Lr.forEachInRange([s,a],f=>{this.Qr(f),c.push(f.key)}),c}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new le(new qe([])),s=new _t(n,e),a=new _t(n,e+1);let c=Ie();return this.Lr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new _t(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _t{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return le.comparator(e.key,n.key)||ve(e.Gr,n.Gr)}static kr(e,n){return ve(e.Gr,n.Gr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new ft(_t.Br)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new h0(c,n,s,a);this.mutationQueue.push(f);for(const g of a)this.zr=this.zr.add(new _t(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return B.resolve(f)}lookupMutationBatch(e,n){return B.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Hr(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ah:this.Jn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _t(n,0),a=new _t(n,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([s,a],f=>{const g=this.jr(f.Gr);c.push(g)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ft(ve);return n.forEach(a=>{const c=new _t(a,0),f=new _t(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,f],g=>{s=s.add(g.Gr)})}),B.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;le.isDocumentKey(c)||(c=c.child(""));const f=new _t(new le(c),0);let g=new ft(ve);return this.zr.forEachWhile(_=>{const E=_.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(g=g.add(_.Gr)),!0)},f),B.resolve(this.Jr(g))}Jr(e){const n=[];return e.forEach(s=>{const a=this.jr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Le(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return B.forEach(n.mutations,a=>{const c=new _t(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new _t(n,0),a=this.zr.firstAfterOrEqual(s);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.Zr=e,this.docs=function(){return new Ge(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=dr();const f=n.path,g=new le(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:E,value:{document:I}}=_.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||RE(AE(I),s)<=0||(a.has(I.key)||ru(n,I))&&(c=c.insert(I.key,I.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,n,s,a){fe(9500)}Xr(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new X0(this)}getSize(e){return B.resolve(this.size)}}class X0 extends $0{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.vr.addEntry(e,a)):this.vr.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.persistence=e,this.ei=new Vi(n=>Ph(n),kh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Oh,this.targetCount=0,this.ri=Ms.rr()}forEachTarget(e,n){return this.ei.forEach((s,a)=>n(a)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),B.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Ms(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.ar(n),B.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.ei.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ei.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),B.waitFor(c).next(()=>a)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.ii={},this.overlays={},this.si=new Zl(0),this.oi=!1,this.oi=!0,this._i=new K0,this.referenceDelegate=e(this),this.ai=new J0(this),this.indexManager=new M0,this.remoteDocumentCache=function(a){return new Y0(a)}(s=>this.referenceDelegate.ui(s)),this.serializer=new O0(n),this.ci=new Q0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new G0(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new Z0(this.si.next());return this.referenceDelegate.li(),s(a).next(c=>this.referenceDelegate.hi(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Pi(e,n){return B.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class Z0 extends PE{constructor(e){super(),this.currentSequenceNumber=e}}class Lh{constructor(e){this.persistence=e,this.Ti=new Oh,this.Ii=null}static Ei(e){return new Lh(e)}get di(){if(this.Ii)return this.Ii;throw fe(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(a=>this.di.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.di.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,s=>{const a=le.fromPath(s);return this.Ai(e,a).next(c=>{c||n.removeEntry(a,pe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return B.or([()=>B.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Kl{constructor(e,n){this.persistence=e,this.Ri=new Vi(s=>DE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=b0(this,n)}static Ei(e,n){return new Kl(e,n)}li(){}hi(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return B.forEach(this.Ri,(s,a)=>this.gr(e,s,a).next(c=>c?B.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Xr(e,f=>this.gr(e,f,n).next(g=>{g||(s++,c.removeEntry(f,pe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),B.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dl(e.data.value)),n}gr(e,n,s){return B.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.Ri.get(n);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=a}static Ps(e,n){let s=Ie(),a=Ie();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Mh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return K_()?8:kE(Q_())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Rs(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Vs(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new ew;return this.fs(e,n,f).next(g=>{if(c.result=g,this.Is)return this.gs(e,n,f,g.size)})}).next(()=>c.result)}gs(e,n,s,a){return s.documentReadCount<this.Es?(As()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),B.resolve()):(As()<=ke.DEBUG&&te("QueryEngine","Query:",Rs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(As()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):B.resolve())}Rs(e,n){if(Wp(n))return B.resolve(null);let s=$n(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=hh(n,null,"F"),s=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ie(...c);return this.As.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const E=this.ps(n,g);return this.ys(n,E,f,_.readTime)?this.Rs(e,hh(n,null,"F")):this.ws(e,E,n,_)}))})))}Vs(e,n,s,a){return Wp(n)||a.isEqual(pe.min())?B.resolve(null):this.As.getDocuments(e,s).next(c=>{const f=this.ps(n,c);return this.ys(n,f,s,a)?B.resolve(null):(As()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rs(n)),this.ws(e,f,n,SE(a,Xo)).next(g=>g))})}ps(e,n){let s=new ft(yg(e));return n.forEach((a,c)=>{ru(e,c)&&(s=s.add(c))}),s}ys(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}fs(e,n,s){return As()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.As.getDocumentsMatchingQuery(e,n,Hr.min(),s)}ws(e,n,s,a){return this.As.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="LocalStore",nw=3e8;class rw{constructor(e,n,s,a){this.persistence=e,this.bs=n,this.serializer=a,this.Ss=new Ge(ve),this.Ds=new Vi(c=>Ph(c),kh),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H0(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function iw(i,e,n,s){return new rw(i,e,n,s)}async function jg(i,e){const n=me(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let _=Ie();for(const E of a){f.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of c){g.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return n.localDocuments.getDocuments(s,_).next(E=>({Ms:E,removedBatchIds:f,addedBatchIds:g}))})})}function sw(i,e){const n=me(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.Cs.newChangeBuffer({trackRemovals:!0});return function(g,_,E,I){const k=E.batch,U=k.keys();let $=B.resolve();return U.forEach(Y=>{$=$.next(()=>I.getEntry(_,Y)).next(X=>{const W=E.docVersions.get(Y);Le(W!==null,48541),X.version.compareTo(W)<0&&(k.applyToRemoteDocument(X,E),X.isValidDocument()&&(X.setReadTime(E.commitVersion),I.addEntry(X)))})}),$.next(()=>g.mutationQueue.removeMutationBatch(_,k))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Ie();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(_=_.add(g.batch.mutations[E].key));return _}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function bg(i){const e=me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function ow(i,e){const n=me(i),s=e.snapshotVersion;let a=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});a=n.Ss;const g=[];e.targetChanges.forEach((I,k)=>{const U=a.get(k);if(!U)return;g.push(n.ai.removeMatchingKeys(c,I.removedDocuments,k).next(()=>n.ai.addMatchingKeys(c,I.addedDocuments,k)));let $=U.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(k)!==null?$=$.withResumeToken(At.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):I.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(I.resumeToken,s)),a=a.insert(k,$),function(X,W,Te){return X.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=nw?!0:Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0}(U,$,I)&&g.push(n.ai.updateTargetData(c,$))});let _=dr(),E=Ie();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,I))}),g.push(aw(c,f,e.documentUpdates).next(I=>{_=I.xs,E=I.Os})),!s.isEqual(pe.min())){const I=n.ai.getLastRemoteSnapshotVersion(c).next(k=>n.ai.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(I)}return B.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,_,E)).next(()=>_)}).then(c=>(n.Ss=a,c))}function aw(i,e,n){let s=Ie(),a=Ie();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=dr();return n.forEach((g,_)=>{const E=c.get(g);_.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(g)),_.isNoDocument()&&_.version.isEqual(pe.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):te(Fh,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",_.version)}),{xs:f,Os:a}})}function lw(i,e){const n=me(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ah),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uw(i,e){const n=me(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.ai.getTargetData(s,e).next(c=>c?(a=c,B.resolve(a)):n.ai.allocateTargetId(s).next(f=>(a=new zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ss.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function gh(i,e,n){const s=me(i),a=s.Ss.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!bs(f))throw f;te(Fh,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(a.target)}function om(i,e,n){const s=me(i);let a=pe.min(),c=Ie();return s.persistence.runTransaction("Execute query","readwrite",f=>function(_,E,I){const k=me(_),U=k.Ds.get(I);return U!==void 0?B.resolve(k.Ss.get(U)):k.ai.getTargetData(E,I)}(s,f,$n(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,g.targetId).next(_=>{c=_})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?a:pe.min(),n?c:Ie())).next(g=>(cw(s,YE(e),g),{documents:g,Ns:c})))}function cw(i,e,n){let s=i.vs.get(e)||pe.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.vs.set(e,s)}class am{constructor(){this.activeTargetIds=n0()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hw{constructor(){this.So=new am,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new am,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="ConnectivityMonitor";class um{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){te(lm,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){te(lm,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=null;function yh(){return Pl===null?Pl=function(){return 268435456+Math.round(2147483648*Math.random())}():Pl++,"0x"+Pl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="RestConnection",dw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pw{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${a}`,this.qo=this.databaseId.database===jl?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Qo(e,n,s,a,c){const f=yh(),g=this.$o(e,n.toUriEncodedString());te(Gc,`Sending RPC '${e}' ${f}:`,g,s);const _={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(_,a,c);const{host:E}=new URL(g),I=Lm(E);return this.Ko(e,g,_,s,I).then(k=>(te(Gc,`Received RPC '${e}' ${f}: `,k),k),k=>{throw Ns(Gc,`RPC '${e}' ${f} failed with error: `,k,"url: ",g,"request:",s),k})}Wo(e,n,s,a,c,f){return this.Qo(e,n,s,a,c)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}$o(e,n){const s=dw[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class gw extends pw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,a,c){const f=yh();return new Promise((g,_)=>{const E=new $m;E.setWithCredentials(!0),E.listenOnce(qm.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case Vl.NO_ERROR:const k=E.getResponseJson();te(Nt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(k)),g(k);break;case Vl.TIMEOUT:te(Nt,`RPC '${e}' ${f} timed out`),_(new ie(b.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:const U=E.getStatus();if(te(Nt,`RPC '${e}' ${f} failed with status:`,U,"response text:",E.getResponseText()),U>0){let $=E.getResponseJson();Array.isArray($)&&($=$[0]);const Y=$==null?void 0:$.error;if(Y&&Y.status&&Y.message){const X=function(Te){const ge=Te.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(ge)>=0?ge:b.UNKNOWN}(Y.status);_(new ie(X,Y.message))}else _(new ie(b.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new ie(b.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{s_:e,streamId:f,o_:E.getLastErrorCode(),__:E.getLastError()})}}finally{te(Nt,`RPC '${e}' ${f} completed.`)}});const I=JSON.stringify(a);te(Nt,`RPC '${e}' ${f} sending request:`,a),E.send(n,"POST",I,s,15)})}a_(e,n,s){const a=yh(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Wm(),g=Qm(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Uo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const I=c.join("");te(Nt,`Creating RPC '${e}' stream ${a}: ${I}`,_);const k=f.createWebChannel(I,_);let U=!1,$=!1;const Y=new mw({Go:W=>{$?te(Nt,`Not sending because RPC '${e}' stream ${a} is closed:`,W):(U||(te(Nt,`Opening RPC '${e}' stream ${a} transport.`),k.open(),U=!0),te(Nt,`RPC '${e}' stream ${a} sending:`,W),k.send(W))},zo:()=>k.close()}),X=(W,Te,ge)=>{W.listen(Te,ye=>{try{ge(ye)}catch(Se){setTimeout(()=>{throw Se},0)}})};return X(k,jo.EventType.OPEN,()=>{$||(te(Nt,`RPC '${e}' stream ${a} transport opened.`),Y.t_())}),X(k,jo.EventType.CLOSE,()=>{$||($=!0,te(Nt,`RPC '${e}' stream ${a} transport closed`),Y.r_())}),X(k,jo.EventType.ERROR,W=>{$||($=!0,Ns(Nt,`RPC '${e}' stream ${a} transport errored. Name:`,W.name,"Message:",W.message),Y.r_(new ie(b.UNAVAILABLE,"The operation could not be completed")))}),X(k,jo.EventType.MESSAGE,W=>{var Te;if(!$){const ge=W.data[0];Le(!!ge,16349);const ye=ge,Se=(ye==null?void 0:ye.error)||((Te=ye[0])===null||Te===void 0?void 0:Te.error);if(Se){te(Nt,`RPC '${e}' stream ${a} received error:`,Se);const Xe=Se.status;let Ve=function(A){const P=st[A];if(P!==void 0)return kg(P)}(Xe),V=Se.message;Ve===void 0&&(Ve=b.INTERNAL,V="Unknown error status: "+Xe+" with message "+Se.message),$=!0,Y.r_(new ie(Ve,V)),k.close()}else te(Nt,`RPC '${e}' stream ${a} received:`,ge),Y.i_(ge)}}),X(g,Hm.STAT_EVENT,W=>{W.stat===ih.PROXY?te(Nt,`RPC '${e}' stream ${a} detected buffering proxy`):W.stat===ih.NOPROXY&&te(Nt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Y.n_()},0),Y}}function Yc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){return new E0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,s=1e3,a=1.5,c=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=a,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="PersistentStream";class qg{constructor(e,n,s,a,c,f,g,_){this.bi=e,this.R_=s,this.V_=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new $g(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.m_===n&&this.B_(s,a)},s=>{e(()=>{const a=new ie(b.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(a)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{s(()=>this.L_(a))}),this.stream.onMessage(a=>{s(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return te(cm,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(te(cm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yw extends qg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=I0(this.serializer,e),s=function(c){if(!("targetChange"in c))return pe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?pe.min():f.readTime?qn(f.readTime):pe.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=mh(this.serializer),n.addTarget=function(c,f){let g;const _=f.target;if(g=uh(_)?{documents:R0(c,_)}:{query:C0(c,_).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=Ng(c,f.resumeToken);const E=fh(c,f.expectedCount);E!==null&&(g.expectedCount=E)}else if(f.snapshotVersion.compareTo(pe.min())>0){g.readTime=Wl(c,f.snapshotVersion.toTimestamp());const E=fh(c,f.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,e);const s=k0(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=mh(this.serializer),n.removeTarget=e,this.F_(n)}}class _w extends qg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=A0(e.writeResults,e.commitTime),s=qn(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=mh(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>S0(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{}class Ew extends vw{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new ie(b.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Qo(e,dh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(b.UNKNOWN,c.toString())})}Wo(e,n,s,a,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Wo(e,dh(n,s),a,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ie(b.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class ww{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(fr(n),this.ea=!1):te("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="RemoteStore";class Tw{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(f=>{s.enqueueAndForget(async()=>{Ni(this)&&(te(Pi,"Restarting streams for network reachability change."),await async function(_){const E=me(_);E.aa.add(4),await oa(E),E.la.set("Unknown"),E.aa.delete(4),await lu(E)}(this))})}),this.la=new ww(s,a)}}async function lu(i){if(Ni(i))for(const e of i.ua)await e(!0)}async function oa(i){for(const e of i.ua)await e(!1)}function Hg(i,e){const n=me(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),jh(n)?Bh(n):$s(n).b_()&&zh(n,e))}function Uh(i,e){const n=me(i),s=$s(n);n._a.delete(e),s.b_()&&Qg(n,e),n._a.size===0&&(s.b_()?s.v_():Ni(n)&&n.la.set("Unknown"))}function zh(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$s(i).U_(e)}function Qg(i,e){i.ha.Ke(e),$s(i).K_(e)}function Bh(i){i.ha=new g0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),$s(i).start(),i.la.ta()}function jh(i){return Ni(i)&&!$s(i).w_()&&i._a.size>0}function Ni(i){return me(i).aa.size===0}function Wg(i){i.ha=void 0}async function Iw(i){i.la.set("Online")}async function Sw(i){i._a.forEach((e,n)=>{zh(i,e)})}async function Aw(i,e){Wg(i),jh(i)?(i.la.ia(e),Bh(i)):i.la.set("Unknown")}async function Rw(i,e,n){if(i.la.set("Online"),e instanceof Dg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const g of c.targetIds)a._a.has(g)&&(await a.remoteSyncer.rejectListen(g,f),a._a.delete(g),a.ha.removeTarget(g))}(i,e)}catch(s){te(Pi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gl(i,s)}else if(e instanceof Ol?i.ha.Xe(e):e instanceof Vg?i.ha.ot(e):i.ha.nt(e),!n.isEqual(pe.min()))try{const s=await bg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.ha.It(f);return g.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const I=c._a.get(E);I&&c._a.set(E,I.withResumeToken(_.resumeToken,f))}}),g.targetMismatches.forEach((_,E)=>{const I=c._a.get(_);if(!I)return;c._a.set(_,I.withResumeToken(At.EMPTY_BYTE_STRING,I.snapshotVersion)),Qg(c,_);const k=new zr(I.target,_,E,I.sequenceNumber);zh(c,k)}),c.remoteSyncer.applyRemoteEvent(g)}(i,n)}catch(s){te(Pi,"Failed to raise snapshot:",s),await Gl(i,s)}}async function Gl(i,e,n){if(!bs(e))throw e;i.aa.add(1),await oa(i),i.la.set("Offline"),n||(n=()=>bg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te(Pi,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await lu(i)})}function Kg(i,e){return e().catch(n=>Gl(i,n,e))}async function uu(i){const e=me(i),n=Gr(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Ah;for(;Cw(e);)try{const a=await lw(e.localStore,s);if(a===null){e.oa.length===0&&n.v_();break}s=a.batchId,Pw(e,a)}catch(a){await Gl(e,a)}Gg(e)&&Yg(e)}function Cw(i){return Ni(i)&&i.oa.length<10}function Pw(i,e){i.oa.push(e);const n=Gr(i);n.b_()&&n.W_&&n.G_(e.mutations)}function Gg(i){return Ni(i)&&!Gr(i).w_()&&i.oa.length>0}function Yg(i){Gr(i).start()}async function kw(i){Gr(i).H_()}async function Vw(i){const e=Gr(i);for(const n of i.oa)e.G_(n.mutations)}async function Dw(i,e,n){const s=i.oa.shift(),a=Dh.from(s,e,n);await Kg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await uu(i)}async function Nw(i,e){e&&Gr(i).W_&&await async function(s,a){if(function(f){return p0(f)&&f!==b.ABORTED}(a.code)){const c=s.oa.shift();Gr(s).D_(),await Kg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await uu(s)}}(i,e),Gg(i)&&Yg(i)}async function hm(i,e){const n=me(i);n.asyncQueue.verifyOperationInProgress(),te(Pi,"RemoteStore received new credentials");const s=Ni(n);n.aa.add(3),await oa(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await lu(n)}async function xw(i,e){const n=me(i);e?(n.aa.delete(2),await lu(n)):e||(n.aa.add(2),await oa(n),n.la.set("Unknown"))}function $s(i){return i.Pa||(i.Pa=function(n,s,a){const c=me(n);return c.Y_(),new yw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{jo:Iw.bind(null,i),Jo:Sw.bind(null,i),Zo:Aw.bind(null,i),Q_:Rw.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),jh(i)?Bh(i):i.la.set("Unknown")):(await i.Pa.stop(),Wg(i))})),i.Pa}function Gr(i){return i.Ta||(i.Ta=function(n,s,a){const c=me(n);return c.Y_(),new _w(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:kw.bind(null,i),Zo:Nw.bind(null,i),z_:Vw.bind(null,i),j_:Dw.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await uu(i)):(await i.Ta.stop(),i.oa.length>0&&(te(Pi,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,g=new bh(e,n,f,a,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $h(i,e){if(fr("AsyncQueue",`${e}: ${i}`),bs(i))return new ie(b.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=bo(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Ia=new Ge(le.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):fe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class Fs{constructor(e,n,s,a,c,f,g,_,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Fs(e,n,Vs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Lw{constructor(){this.queries=dm(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const a=me(n),c=a.queries;a.queries=dm(),c.forEach((f,g)=>{for(const _ of g.Ra)_.onError(s)})})(this,new ie(b.ABORTED,"Firestore shutting down"))}}function dm(){return new Vi(i=>gg(i),nu)}async function Mw(i,e){const n=me(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Va()&&e.ma()&&(s=2):(c=new Ow,s=e.ma()?0:1);try{switch(s){case 0:c.Aa=await n.onListen(a,!0);break;case 1:c.Aa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const g=$h(f,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(g)}n.queries.set(a,c),c.Ra.push(e),e.ga(n.onlineState),c.Aa&&e.pa(c.Aa)&&qh(n)}async function Fw(i,e){const n=me(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.Ra.indexOf(e);f>=0&&(c.Ra.splice(f,1),c.Ra.length===0?a=e.ma()?0:1:!c.Va()&&e.ma()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Uw(i,e){const n=me(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const g of f.Ra)g.pa(a)&&(s=!0);f.Aa=a}}s&&qh(n)}function zw(i,e,n){const s=me(i),a=s.queries.get(e);if(a)for(const c of a.Ra)c.onError(n);s.queries.delete(e)}function qh(i){i.fa.forEach(e=>{e.next()})}var _h,pm;(pm=_h||(_h={})).ya="default",pm.Cache="cache";class Bw{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Fs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==_h.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.key=e}}class Jg{constructor(e){this.key=e}}class jw{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ie(),this.mutatedKeys=Ie(),this.Ua=yg(e),this.Ka=new Vs(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new fm,a=n?n.Ka:this.Ka;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,g=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((I,k)=>{const U=a.get(I),$=ru(this.query,k)?k:null,Y=!!U&&this.mutatedKeys.has(U.key),X=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let W=!1;U&&$?U.data.isEqual($.data)?Y!==X&&(s.track({type:3,doc:$}),W=!0):this.ja(U,$)||(s.track({type:2,doc:$}),W=!0,(_&&this.Ua($,_)>0||E&&this.Ua($,E)<0)&&(g=!0)):!U&&$?(s.track({type:0,doc:$}),W=!0):U&&!$&&(s.track({type:1,doc:U}),W=!0,(_||E)&&(g=!0)),W&&($?(f=f.add($),c=X?c.add(I):c.delete(I)):(f=f.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const I=this.query.limitType==="F"?f.last():f.first();f=f.delete(I.key),c=c.delete(I.key),s.track({type:1,doc:I})}return{Ka:f,za:s,ys:g,mutatedKeys:c}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((I,k)=>function($,Y){const X=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:W})}};return X($)-X(Y)}(I.type,k.type)||this.Ua(I.doc,k.doc)),this.Ha(s),a=a!=null&&a;const g=n&&!a?this.Ja():[],_=this.$a.size===0&&this.current&&!a?1:0,E=_!==this.Qa;return this.Qa=_,f.length!==0||E?{snapshot:new Fs(this.query,e.Ka,c,f,e.mutatedKeys,_===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new fm,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ie(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new Jg(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new Xg(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Ie();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Fs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Hh="SyncEngine";class bw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $w{constructor(e){this.key=e,this.tu=!1}}class qw{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Vi(g=>gg(g),nu),this.iu=new Map,this.su=new Set,this.ou=new Ge(le.comparator),this._u=new Map,this.au=new Oh,this.uu={},this.cu=new Map,this.lu=Ms.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Hw(i,e,n=!0){const s=iy(i);let a;const c=s.ru.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.eu()):a=await Zg(s,e,n,!0),a}async function Qw(i,e){const n=iy(i);await Zg(n,e,!0,!1)}async function Zg(i,e,n,s){const a=await uw(i.localStore,$n(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await Ww(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Hg(i.remoteStore,a),g}async function Ww(i,e,n,s,a){i.Pu=(k,U,$)=>async function(X,W,Te,ge){let ye=W.view.Ga(Te);ye.ys&&(ye=await om(X.localStore,W.query,!1).then(({documents:V})=>W.view.Ga(V,ye)));const Se=ge&&ge.targetChanges.get(W.targetId),Xe=ge&&ge.targetMismatches.get(W.targetId)!=null,Ve=W.view.applyChanges(ye,X.isPrimaryClient,Se,Xe);return gm(X,W.targetId,Ve.Ya),Ve.snapshot}(i,k,U,$);const c=await om(i.localStore,e,!0),f=new jw(e,c.Ns),g=f.Ga(c.documents),_=sa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(g,i.isPrimaryClient,_);gm(i,n,E.Ya);const I=new bw(e,n,f);return i.ru.set(e,I),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),E.snapshot}async function Kw(i,e,n){const s=me(i),a=s.ru.get(e),c=s.iu.get(a.targetId);if(c.length>1)return s.iu.set(a.targetId,c.filter(f=>!nu(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await gh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Uh(s.remoteStore,a.targetId),vh(s,a.targetId)}).catch(js)):(vh(s,a.targetId),await gh(s.localStore,a.targetId,!0))}async function Gw(i,e){const n=me(i),s=n.ru.get(e),a=n.iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Uh(n.remoteStore,s.targetId))}async function Yw(i,e,n){const s=rT(i);try{const a=await function(f,g){const _=me(f),E=nt.now(),I=g.reduce(($,Y)=>$.add(Y.key),Ie());let k,U;return _.persistence.runTransaction("Locally write mutations","readwrite",$=>{let Y=dr(),X=Ie();return _.Cs.getEntries($,I).next(W=>{Y=W,Y.forEach((Te,ge)=>{ge.isValidDocument()||(X=X.add(Te))})}).next(()=>_.localDocuments.getOverlayedDocuments($,Y)).next(W=>{k=W;const Te=[];for(const ge of g){const ye=u0(ge,k.get(ge.key).overlayedDocument);ye!=null&&Te.push(new Di(ge.key,ye,ag(ye.value.mapValue),cr.exists(!0)))}return _.mutationQueue.addMutationBatch($,E,Te,g)}).next(W=>{U=W;const Te=W.applyToLocalDocumentSet(k,X);return _.documentOverlayCache.saveOverlays($,W.batchId,Te)})}).then(()=>({batchId:U.batchId,changes:vg(k)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,g,_){let E=f.uu[f.currentUser.toKey()];E||(E=new Ge(ve)),E=E.insert(g,_),f.uu[f.currentUser.toKey()]=E}(s,a.batchId,n),await aa(s,a.changes),await uu(s.remoteStore)}catch(a){const c=$h(a,"Failed to persist write");n.reject(c)}}async function ey(i,e){const n=me(i);try{const s=await ow(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n._u.get(c);f&&(Le(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.tu=!0:a.modifiedDocuments.size>0?Le(f.tu,14607):a.removedDocuments.size>0&&(Le(f.tu,42227),f.tu=!1))}),await aa(n,s,e)}catch(s){await js(s)}}function mm(i,e,n){const s=me(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ru.forEach((c,f)=>{const g=f.view.ga(e);g.snapshot&&a.push(g.snapshot)}),function(f,g){const _=me(f);_.onlineState=g;let E=!1;_.queries.forEach((I,k)=>{for(const U of k.Ra)U.ga(g)&&(E=!0)}),E&&qh(_)}(s.eventManager,e),a.length&&s.nu.Q_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Xw(i,e,n){const s=me(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s._u.get(e),c=a&&a.key;if(c){let f=new Ge(le.comparator);f=f.insert(c,Ot.newNoDocument(c,pe.min()));const g=Ie().add(c),_=new ou(pe.min(),new Map,new Ge(ve),f,g);await ey(s,_),s.ou=s.ou.remove(c),s._u.delete(e),Qh(s)}else await gh(s.localStore,e,!1).then(()=>vh(s,e,n)).catch(js)}async function Jw(i,e){const n=me(i),s=e.batch.batchId;try{const a=await sw(n.localStore,e);ny(n,s,null),ty(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await aa(n,a)}catch(a){await js(a)}}async function Zw(i,e,n){const s=me(i);try{const a=await function(f,g){const _=me(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return _.mutationQueue.lookupMutationBatch(E,g).next(k=>(Le(k!==null,37113),I=k.keys(),_.mutationQueue.removeMutationBatch(E,k))).next(()=>_.mutationQueue.performConsistencyCheck(E)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(E,I,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I)).next(()=>_.localDocuments.getDocuments(E,I))})}(s.localStore,e);ny(s,e,n),ty(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await aa(s,a)}catch(a){await js(a)}}function ty(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function ny(i,e,n){const s=me(i);let a=s.uu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.uu[s.currentUser.toKey()]=a}}function vh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),n&&i.nu.Tu(s,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||ry(i,s)})}function ry(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(Uh(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),Qh(i))}function gm(i,e,n){for(const s of n)s instanceof Xg?(i.au.addReference(s.key,e),eT(i,s)):s instanceof Jg?(te(Hh,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||ry(i,s.key)):fe(19791,{Iu:s})}function eT(i,e){const n=e.key,s=n.path.canonicalString();i.ou.get(n)||i.su.has(s)||(te(Hh,"New document in limbo: "+n),i.su.add(s),Qh(i))}function Qh(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new le(qe.fromString(e)),s=i.lu.next();i._u.set(s,new $w(n)),i.ou=i.ou.insert(n,s),Hg(i.remoteStore,new zr($n(pg(n.path)),s,"TargetPurposeLimboResolution",Zl.le))}}async function aa(i,e,n){const s=me(i),a=[],c=[],f=[];s.ru.isEmpty()||(s.ru.forEach((g,_)=>{f.push(s.Pu(_,e,n).then(E=>{var I;if((E||n)&&s.isPrimaryClient){const k=E?!E.fromCache:(I=n==null?void 0:n.targetChanges.get(_.targetId))===null||I===void 0?void 0:I.current;s.sharedClientState.updateQueryState(_.targetId,k?"current":"not-current")}if(E){a.push(E);const k=Mh.Ps(_.targetId,E);c.push(k)}}))}),await Promise.all(f),s.nu.Q_(a),await async function(_,E){const I=me(_);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>B.forEach(E,U=>B.forEach(U.ls,$=>I.persistence.referenceDelegate.addReference(k,U.targetId,$)).next(()=>B.forEach(U.hs,$=>I.persistence.referenceDelegate.removeReference(k,U.targetId,$)))))}catch(k){if(!bs(k))throw k;te(Fh,"Failed to update sequence numbers: "+k)}for(const k of E){const U=k.targetId;if(!k.fromCache){const $=I.Ss.get(U),Y=$.snapshotVersion,X=$.withLastLimboFreeSnapshotVersion(Y);I.Ss=I.Ss.insert(U,X)}}}(s.localStore,c))}async function tT(i,e){const n=me(i);if(!n.currentUser.isEqual(e)){te(Hh,"User change. New user:",e.toKey());const s=await jg(n.localStore,e);n.currentUser=e,function(c,f){c.cu.forEach(g=>{g.forEach(_=>{_.reject(new ie(b.CANCELLED,f))})}),c.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await aa(n,s.Ms)}}function nT(i,e){const n=me(i),s=n._u.get(e);if(s&&s.tu)return Ie().add(s.key);{let a=Ie();const c=n.iu.get(e);if(!c)return a;for(const f of c){const g=n.ru.get(f);a=a.unionWith(g.view.Wa)}return a}}function iy(i){const e=me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ey.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xw.bind(null,e),e.nu.Q_=Uw.bind(null,e.eventManager),e.nu.Tu=zw.bind(null,e.eventManager),e}function rT(i){const e=me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zw.bind(null,e),e}class Yl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=au(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return iw(this.persistence,new tw,e.initialUser,this.serializer)}Ru(e){return new Bg(Lh.Ei,this.serializer)}Au(e){return new hw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yl.provider={build:()=>new Yl};class iT extends Yl{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Le(this.persistence.referenceDelegate instanceof Kl,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new B0(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new Bg(s=>Kl.Ei(s,n),this.serializer)}}class Eh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tT.bind(null,this.syncEngine),await xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lw}()}createDatastore(e){const n=au(e.databaseInfo.databaseId),s=function(c){return new gw(c)}(e.databaseInfo);return function(c,f,g,_){return new Ew(c,f,g,_)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,g){return new Tw(s,a,c,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>mm(this.syncEngine,n,0),function(){return um.C()?new um:new fw}())}createSyncEngine(e,n){return function(a,c,f,g,_,E,I){const k=new qw(a,c,f,g,_,E);return I&&(k.hu=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=me(a);te(Pi,"RemoteStore shutting down."),c.aa.add(5),await oa(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Eh.provider={build:()=>new Eh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class oT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=xt.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$h(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xc(i,e){i.asyncQueue.verifyOperationInProgress(),te(Yr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await jg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function ym(i,e){i.asyncQueue.verifyOperationInProgress();const n=await aT(i);te(Yr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>hm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>hm(e.remoteStore,a)),i._onlineComponents=e}async function aT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te(Yr,"Using user provided OfflineComponentProvider");try{await Xc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===b.FAILED_PRECONDITION||a.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await Xc(i,new Yl)}}else te(Yr,"Using default OfflineComponentProvider"),await Xc(i,new iT(void 0));return i._offlineComponents}async function sy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te(Yr,"Using user provided OnlineComponentProvider"),await ym(i,i._uninitializedComponentsProvider._online)):(te(Yr,"Using default OnlineComponentProvider"),await ym(i,new Eh))),i._onlineComponents}function lT(i){return sy(i).then(e=>e.syncEngine)}async function uT(i){const e=await sy(i),n=e.eventManager;return n.onListen=Hw.bind(null,e.syncEngine),n.onUnlisten=Kw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gw.bind(null,e.syncEngine),n}function cT(i,e,n={}){const s=new $r;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,g,_,E){const I=new sT({next:U=>{I.yu(),f.enqueueAndForget(()=>Fw(c,k)),U.fromCache&&_.source==="server"?E.reject(new ie(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(U)},error:U=>E.reject(U)}),k=new Bw(g,I,{includeMetadataChanges:!0,Fa:!0});return Mw(c,k)}(await uT(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(i,e,n){if(!n)throw new ie(b.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hT(i,e,n,s){if(e===!0&&s===!0)throw new ie(b.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function vm(i){if(!le.isDocumentKey(i))throw new ie(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Em(i){if(le.isDocumentKey(i))throw new ie(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function cu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":fe(12329,{type:typeof i})}function Xl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ie(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cu(i);throw new ie(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="firestore.googleapis.com",wm=!0;class Tm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ly,this.ssl=wm}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U0)throw new ie(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ie(b.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ie(b.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ie(b.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mE;switch(s.type){case"firstParty":return new vE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=_m.get(n);s&&(te("ComponentProvider","Removing Datastore"),_m.delete(n),s.terminate())}(this),Promise.resolve()}}function fT(i,e,n,s={}){var a;i=Xl(i,hu);const c=Lm(e),f=i._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),_=`${e}:${n}`;c&&ev(`https://${_}`),f.host!==ly&&f.host!==_&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E=Object.assign(Object.assign({},f),{host:_,ssl:c,emulatorOptions:s});if(!Fl(E,g)&&(i._setSettings(E),s.mockUserToken)){let I,k;if(typeof s.mockUserToken=="string")I=s.mockUserToken,k=xt.MOCK_USER;else{I=H_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new ie(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new xt(U)}i._authCredentials=new gE(new Gm(I,k))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class qr extends qs{constructor(e,n,s){super(e,n,pg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new le(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Im(i,e,...n){if(i=Ds(i),ay("collection","path",e),i instanceof hu){const s=qe.fromString(e,...n);return Em(s),new qr(i,null,s)}{if(!(i instanceof dn||i instanceof qr))throw new ie(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(qe.fromString(e,...n));return Em(s),new qr(i.firestore,null,s)}}function dT(i,e,...n){if(i=Ds(i),arguments.length===1&&(e=Xm.newId()),ay("doc","path",e),i instanceof hu){const s=qe.fromString(e,...n);return vm(s),new dn(i,null,new le(s))}{if(!(i instanceof dn||i instanceof qr))throw new ie(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(qe.fromString(e,...n));return vm(s),new dn(i.firestore,i instanceof qr?i.converter:null,new le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="AsyncQueue";class Am{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new $g(this,"async_queue_retry"),this.ju=()=>{const s=Yc();s&&te(Sm,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Yc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Yc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new $r;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!bs(e))throw e;te(Sm,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,fr("INTERNAL UNHANDLED ERROR: ",Rm(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const a=bh.createAndSchedule(this,e,n,s,c=>this.Xu(c));return this.Uu.push(a),a}Ju(){this.Ku&&fe(47125,{ec:Rm(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Rm(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Wh extends hu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Am,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Am(e),this._firestoreClient=void 0,await e}}}function pT(i,e){const n=typeof i=="object"?i:nE(),s=typeof i=="string"?i:jl,a=Xv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=$_("firestore");c&&fT(a,...c)}return a}function uy(i){if(i._terminated)throw new ie(b.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||mT(i),i._firestoreClient}function mT(i){var e,n,s;const a=i._freezeSettings(),c=function(g,_,E,I){return new OE(g,_,E,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,oy(I.experimentalLongPollingOptions),I.useFetchStreams,I.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new oT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(At.fromBase64String(e))}catch(n){throw new ie(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Us(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=/^__.*__$/;class yT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new ia(e,this.data,n,this.fieldTransforms)}}function hy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{oc:i})}}class Xh{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Xh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:s,cc:!1});return a.lc(e),a}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:s,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Jl(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(hy(this.oc)&&gT.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class _T{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||au(e)}dc(e,n,s,a=!1){return new Xh({oc:e,methodName:n,Ec:s,path:St.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fy(i){const e=i._freezeSettings(),n=au(i._databaseId);return new _T(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vT(i,e,n,s,a,c={}){const f=i.dc(c.merge||c.mergeFields?2:0,e,n,a);my("Data must be an object, but it was:",f,s);const g=dy(s,f);let _,E;if(c.merge)_=new kn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const I=[];for(const k of c.mergeFields){const U=wT(e,k,n);if(!f.contains(U))throw new ie(b.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);IT(I,U)||I.push(U)}_=new kn(I),E=f.fieldTransforms.filter(k=>_.covers(k.field))}else _=null,E=f.fieldTransforms;return new yT(new fn(g),_,E)}function ET(i,e,n,s=!1){return Jh(n,i.dc(s?4:3,e))}function Jh(i,e){if(py(i=Ds(i)))return my("Unsupported field value:",e,i),dy(i,e);if(i instanceof cy)return function(s,a){if(!hy(a.oc))throw a.Tc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const g of s){let _=Jh(g,a.Pc(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Ds(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return r0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=nt.fromDate(s);return{timestampValue:Wl(a.serializer,c)}}if(s instanceof nt){const c=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wl(a.serializer,c)}}if(s instanceof Gh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Us)return{bytesValue:Ng(a.serializer,s._byteString)};if(s instanceof dn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:xh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Yh)return function(f,g){return{mapValue:{fields:{[sg]:{stringValue:og},[bl]:{arrayValue:{values:f.toArray().map(E=>{if(typeof E!="number")throw g.Tc("VectorValues must only contain numeric values.");return Vh(g.serializer,E)})}}}}}}(s,a);throw a.Tc(`Unsupported field value: ${cu(s)}`)}(i,e)}function dy(i,e){const n={};return Zm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(i,(s,a)=>{const c=Jh(a,e.uc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function py(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof Gh||i instanceof Us||i instanceof dn||i instanceof cy||i instanceof Yh)}function my(i,e,n){if(!py(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=cu(n);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function wT(i,e,n){if((e=Ds(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return gy(i,e);throw Jl("Field path arguments must be of type string or ",i,!1,void 0,n)}const TT=new RegExp("[~\\*/\\[\\]]");function gy(i,e,n){if(e.search(TT)>=0)throw Jl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw Jl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${s}`),f&&(_+=` in document ${a}`),_+=")"),new ie(b.INVALID_ARGUMENT,g+i+_)}function IT(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ST(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ST extends yy{data(){return super.data()}}function Zh(i,e){return typeof e=="string"?gy(i,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ie(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ef{}class RT extends ef{}function CT(i,e,...n){let s=[];e instanceof ef&&s.push(e),s=s.concat(n),function(c){const f=c.filter(_=>_ instanceof tf).length,g=c.filter(_=>_ instanceof fu).length;if(f>1||f>0&&g>0)throw new ie(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class fu extends RT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new fu(e,n,s)}_apply(e){const n=this._parse(e);return _y(e._query,n),new qs(e.firestore,e.converter,ch(e._query,n))}_parse(e){const n=fy(e.firestore);return function(c,f,g,_,E,I,k){let U;if(E.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new ie(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){Pm(k,I);const Y=[];for(const X of k)Y.push(Cm(_,c,X));U={arrayValue:{values:Y}}}else U=Cm(_,c,k)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||Pm(k,I),U=ET(g,f,k,I==="in"||I==="not-in");return ot.create(E,I,U)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function PT(i,e,n){const s=e,a=Zh("where",i);return fu._create(a,s,n)}class tf extends ef{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const g=c.getFlattenedFilters();for(const _ of g)_y(f,_),f=ch(f,_)}(e._query,n),new qs(e.firestore,e.converter,ch(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Cm(i,e,n){if(typeof(n=Ds(n))=="string"){if(n==="")throw new ie(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mg(e)&&n.indexOf("/")!==-1)throw new ie(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(qe.fromString(n));if(!le.isDocumentKey(s))throw new ie(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jp(i,new le(s))}if(n instanceof dn)return jp(i,n._key);throw new ie(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cu(n)}.`)}function Pm(i,e){if(!Array.isArray(i)||i.length===0)throw new ie(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _y(i,e){const n=function(a,c){for(const f of a)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kT{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ki(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[bl].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>tt(f.doubleValue));return new Yh(c)}convertGeoPoint(e){return new Gh(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=qe.fromString(e);Le(Ug(s),9688,{name:e});const a=new Zo(s.get(1),s.get(3)),c=new le(s.popFirst(5));return a.isEqual(n)||fr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DT extends yy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ll extends DT{data(e={}){return super.data(e)}}class NT{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new kl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ll(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(g=>{const _=new Ll(a._firestore,a._userDataWriter,g.doc.key,g.doc,new kl(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const _=new Ll(a._firestore,a._userDataWriter,g.doc.key,g.doc,new kl(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,I=-1;return g.type!==0&&(E=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),I=f.indexOf(g.doc.key)),{type:xT(g.type),doc:_,oldIndex:E,newIndex:I}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:i})}}class OT extends kT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function LT(i){i=Xl(i,qs);const e=Xl(i.firestore,Wh),n=uy(e),s=new OT(e);return AT(i._query),cT(n,i._query).then(a=>new NT(e,s,i,a))}function MT(i,e){const n=Xl(i.firestore,Wh),s=dT(i),a=VT(i.converter,e);return FT(n,[vT(fy(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,cr.exists(!1))]).then(()=>s)}function FT(i,e){return function(s,a){const c=new $r;return s.asyncQueue.enqueueAndForget(async()=>Yw(await lT(s),a,c)),c.promise}(uy(i),e)}(function(e,n=!0){(function(a){Bs=a})(tE),zl(new Go("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Wh(new yE(s.getProvider("auth-internal")),new EE(f,s.getProvider("app-check-internal")),function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ie(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(E.options.projectId,I)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ks(kp,Vp,e),ks(kp,Vp,"esm2017")})();const UT={apiKey:"AIzaSyBueicZx3y5jMpmd0P1kgVOZOM0Q2t1MMM",authDomain:"vizit-c9d6a.firebaseapp.com",projectId:"vizit-c9d6a",storageBucket:"vizit-c9d6a.firebasestorage.app",messagingSenderId:"915194719853",appId:"1:915194719853:web:4a5446cb42b648bdb65964",measurementId:"G-12ZK40Y54W"},zT=zm(UT),km=pT(zT),BT=()=>{const[i,e]=Jc.useState(null);return Jc.useEffect(()=>{const n=async()=>{try{const a=Im(km,"visits");await MT(a,{timestamp:nt.now()})}catch(a){console.error("Ошибка при записи визита:",a)}},s=async()=>{try{const a=nt.fromMillis(Date.now()-864e5),c=CT(Im(km,"visits"),PT("timestamp",">=",a)),f=await LT(c);e(f.size)}catch(a){console.error("Ошибка при получении визитов:",a)}};n(),s()},[]),qo.jsxs("div",{children:[qo.jsx("h2",{children:"Профиль пользователя"}),qo.jsxs("p",{children:["Посещений за последние 24 часа: ",i!==null?i:"Загрузка..."]})]})};N_.createRoot(document.getElementById("root")).render(qo.jsx(A_.StrictMode,{children:qo.jsx(BT,{})}));
